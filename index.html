<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>Tower of Knowledge | Ø¨Ø±Ø¬ Ø§Ù„Ù…Ø¹Ø±ÙØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@700;800&family=Tajawal:wght@700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:'Nunito','Tajawal',sans-serif;background:#1a3d1a;overflow:hidden;width:100vw;height:100vh;user-select:none}
.screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:16px;transition:opacity .35s}
.screen.hidden{opacity:0;pointer-events:none}

/* â”€â”€ START â”€â”€ */
#sScreen{background:linear-gradient(180deg,#0a1f0a 0%,#1a3d1a 60%,#2d5a1b 100%)}
.logo{font-family:'Fredoka One',cursive;font-size:clamp(2rem,8vw,4rem);color:#ffd700;text-shadow:0 0 30px rgba(255,215,0,.6),0 4px 0 #8b6914;text-align:center;animation:float 3s ease-in-out infinite}
.logo-ar{font-family:'Tajawal',sans-serif;font-size:clamp(1.1rem,4vw,1.8rem);color:#a8e6a0;text-align:center}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.tower-ico{font-size:clamp(4rem,15vw,8rem);animation:bob 2s ease-in-out infinite;filter:drop-shadow(0 10px 20px rgba(0,0,0,.5))}
@keyframes bob{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
.lang-row{display:flex;gap:14px}
.langBtn{padding:11px 28px;border-radius:50px;border:2.5px solid #ffd700;background:rgba(255,215,0,.08);color:#ffd700;font-family:'Fredoka One',cursive;font-size:1.05rem;cursor:pointer;transition:all .2s}
.langBtn.active,.langBtn:hover{background:#ffd700;color:#1a3d1a;transform:scale(1.06)}
.startBtn{padding:17px 55px;background:linear-gradient(135deg,#f39c12,#e74c3c);color:#fff;font-family:'Fredoka One','Tajawal',cursive;font-size:clamp(1.1rem,4vw,1.7rem);border:none;border-radius:50px;cursor:pointer;box-shadow:0 8px 25px rgba(231,76,60,.5);animation:pulse 2s infinite;transition:transform .2s}
@keyframes pulse{0%,100%{box-shadow:0 8px 25px rgba(231,76,60,.5)}50%{box-shadow:0 8px 40px rgba(231,76,60,.9)}}
.startBtn:hover{transform:scale(1.06) translateY(-3px)}
.howTo{color:rgba(255,255,255,.6);font-size:.9rem;text-align:center;max-width:340px;line-height:1.7}

/* â”€â”€ GAME â”€â”€ */
#gScreen{padding:0;background:transparent}
#gc{position:absolute;inset:0;width:100%;height:100%}

/* â”€â”€ HUD â”€â”€ */
#hud{position:absolute;top:0;left:0;right:0;display:flex;justify-content:space-around;align-items:center;padding:8px 12px;background:linear-gradient(180deg,rgba(5,20,5,.95) 0%,transparent 100%);z-index:10;pointer-events:none}
.hbox{background:rgba(5,20,5,.8);border:2px solid rgba(100,200,80,.35);border-radius:14px;padding:5px 13px;display:flex;align-items:center;gap:7px;backdrop-filter:blur(4px)}
.hico{font-size:1.35rem}
.hval{font-family:'Fredoka One',cursive;font-size:1.25rem;color:#fff}
.hlbl{font-size:.65rem;color:rgba(255,255,255,.45);text-transform:uppercase;letter-spacing:.05em}
.hcol{display:flex;flex-direction:column}
.coin-c{color:#ffd700}.wave-c{color:#a8e6a0}.hp-c{color:#ff8080}.arch-c{color:#80d4ff}

/* â”€â”€ CONTROLS â”€â”€ */
#ctrls{position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:center;gap:8px;padding:10px 12px;background:linear-gradient(0deg,rgba(5,20,5,.95) 0%,transparent 100%);z-index:10;flex-wrap:wrap}
.cbtn{padding:9px 14px;border-radius:13px;border:2px solid rgba(255,255,255,.2);color:#fff;font-family:'Fredoka One','Tajawal',cursive;font-size:clamp(.65rem,2.2vw,.9rem);cursor:pointer;transition:all .15s;display:flex;flex-direction:column;align-items:center;gap:3px;min-width:65px;text-align:center;line-height:1.2}
.cbtn .cico{font-size:1.3rem}
.cbtn .ccost{background:rgba(0,0,0,.3);border-radius:7px;padding:1px 5px;font-size:.72rem;color:#ffd700}
.cbtn:hover:not(:disabled){transform:translateY(-3px)}
.cbtn:active:not(:disabled){transform:scale(.95)}
.cbtn:disabled{opacity:.38;cursor:not-allowed}
.b-archer{background:linear-gradient(135deg,#1a5276,#2980b9)}
.b-upgrade{background:linear-gradient(135deg,#5b2c6f,#8e44ad)}
.b-wall{background:linear-gradient(135deg,#4a5568,#7f8c8d)}
.b-sniper{background:linear-gradient(135deg,#0e6655,#16a085)}
.b-coins{background:linear-gradient(135deg,#d35400,#f39c12)}

/* â”€â”€ MODALS â”€â”€ */
.overlay{position:absolute;inset:0;background:rgba(0,0,0,.72);backdrop-filter:blur(7px);display:flex;align-items:center;justify-content:center;z-index:100;padding:18px}
.overlay.hidden{display:none}
.mbox{background:linear-gradient(135deg,#061406,#0d2d0d);border:2.5px solid rgba(100,200,80,.35);border-radius:24px;padding:24px;max-width:480px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,.8);animation:mpop .3s cubic-bezier(.34,1.56,.64,1)}
@keyframes mpop{from{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}
.mtitle{font-family:'Fredoka One','Tajawal',cursive;font-size:1.75rem;color:#ffd700;text-align:center;margin-bottom:18px;text-shadow:0 0 20px rgba(255,215,0,.4)}
.stepdots{display:flex;gap:7px;justify-content:center;margin-bottom:14px}
.dot{width:11px;height:11px;border-radius:50%;background:rgba(255,255,255,.18);border:2px solid rgba(255,255,255,.28);transition:all .3s}
.dot.on{background:#ffd700;border-color:#ffd700}
.subjgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:9px;margin-bottom:14px}
.sbtn{padding:11px 7px;border-radius:13px;border:2px solid transparent;color:#fff;font-family:'Fredoka One','Tajawal',cursive;font-size:.83rem;cursor:pointer;text-align:center;transition:all .2s}
.sbtn:hover{transform:scale(1.06)}
.s-math{background:linear-gradient(135deg,#1a5276,#2980b9)}
.s-sci{background:linear-gradient(135deg,#1e8449,#27ae60)}
.s-phy{background:linear-gradient(135deg,#5b2c6f,#8e44ad)}
.diffgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:9px;margin-bottom:18px}
.dbtn{padding:11px;border-radius:13px;border:2px solid transparent;color:#fff;font-family:'Fredoka One','Tajawal',cursive;font-size:.88rem;cursor:pointer;text-align:center;transition:all .2s;display:flex;flex-direction:column;align-items:center;gap:4px}
.dbtn:hover{transform:translateY(-3px)}
.d-easy{background:linear-gradient(135deg,#145a32,#27ae60)}
.d-med{background:linear-gradient(135deg,#784212,#f39c12)}
.d-hard{background:linear-gradient(135deg,#641e16,#e74c3c)}
.dreward{font-size:.73rem;color:#ffd700}
.qbox{background:rgba(255,255,255,.05);border:2px solid rgba(255,255,255,.1);border-radius:15px;padding:18px;margin-bottom:14px;text-align:center}
.qtxt{color:#fff;font-size:clamp(.95rem,2.8vw,1.2rem);line-height:1.65;font-weight:700}
.agrid{display:grid;grid-template-columns:1fr 1fr;gap:9px;margin-bottom:14px}
.abtn{padding:13px 9px;border-radius:13px;border:2px solid rgba(255,255,255,.18);background:rgba(255,255,255,.05);color:#fff;font-family:'Nunito','Tajawal',sans-serif;font-size:clamp(.82rem,2.4vw,.98rem);font-weight:700;cursor:pointer;transition:all .2s;text-align:center;line-height:1.3}
.abtn:hover{background:rgba(255,255,255,.15);transform:scale(1.03)}
.abtn.correct{background:linear-gradient(135deg,#145a32,#27ae60);border-color:#2ecc71;animation:cpop .4s}
.abtn.wrong{background:linear-gradient(135deg,#641e16,#e74c3c);border-color:#c0392b;animation:shake .4s}
@keyframes cpop{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.mclose{display:block;width:100%;padding:13px;background:rgba(255,255,255,.08);border:2px solid rgba(255,255,255,.18);border-radius:13px;color:rgba(255,255,255,.65);font-family:'Fredoka One','Tajawal',cursive;font-size:.98rem;cursor:pointer;transition:all .2s;margin-top:8px}
.mclose:hover{background:rgba(255,255,255,.18)}

/* â”€â”€ RESULT â”€â”€ */
#rScreen{background:linear-gradient(180deg,#061406 0%,#0d2d0d 100%);z-index:200}
.remo{font-size:clamp(4rem,14vw,7rem);animation:rbounce .6s cubic-bezier(.34,1.56,.64,1)}
@keyframes rbounce{from{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}
.rtitle{font-family:'Fredoka One','Tajawal',cursive;font-size:clamp(1.8rem,7vw,3.2rem);text-align:center}
.rstats{background:rgba(255,255,255,.05);border:2px solid rgba(255,255,255,.1);border-radius:18px;padding:18px 28px;text-align:center;color:rgba(255,255,255,.8);font-size:1.05rem;line-height:2}
.rbtn{padding:15px 48px;background:linear-gradient(135deg,#f39c12,#e74c3c);color:#fff;font-family:'Fredoka One','Tajawal',cursive;font-size:1.35rem;border:none;border-radius:50px;cursor:pointer;transition:all .2s}
.rbtn:hover{transform:scale(1.06)}

/* â”€â”€ OVERLAYS â”€â”€ */
#waveAnn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Fredoka One','Tajawal',cursive;font-size:clamp(1.4rem,5.5vw,2.8rem);color:#fff;text-shadow:0 0 25px rgba(100,255,100,.7);background:rgba(10,50,10,.85);border:3px solid rgba(100,255,100,.5);border-radius:18px;padding:14px 38px;text-align:center;pointer-events:none;z-index:50;display:none;animation:wann 2s forwards}
@keyframes wann{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}80%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(.8)}}
#coinPop{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Fredoka One',cursive;font-size:clamp(1.4rem,5vw,2.4rem);color:#ffd700;text-shadow:0 0 20px rgba(255,215,0,.8);pointer-events:none;z-index:50;display:none;animation:cpopA 1.5s forwards}
@keyframes cpopA{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}30%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}80%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-55%) translateY(-40px)}}

@media(max-width:480px){.cbtn{min-width:54px;padding:7px 9px}.cbtn .cico{font-size:1.1rem}#ctrls{gap:5px;padding:8px 6px}}
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â• START â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="sScreen">
  <div class="tower-ico">ğŸ°</div>
  <div class="logo" id="logoTxt">Tower of Knowledge</div>
  <div class="logo-ar">Ø¨Ø±Ø¬ Ø§Ù„Ù…Ø¹Ø±ÙØ©</div>
  <div class="lang-row">
    <button class="langBtn active" onclick="setLang('en',this)">English</button>
    <button class="langBtn" onclick="setLang('ar',this)">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
  </div>
  <button class="startBtn" id="sBtnMain" onclick="startGame()">ğŸ® Play Now!</button>
  <div class="howTo" id="howToTxt">Defend your tower from zombies!<br>Earn coins by answering questions!</div>
  <div style="margin-top:18px;text-align:center;opacity:0.55;font-size:0.78rem;color:#a8e6a0;line-height:1.8">
    <div style="font-size:0.65rem;text-transform:uppercase;letter-spacing:0.12em;color:rgba(168,230,160,0.5);margin-bottom:2px">Developed by</div>
    <div style="font-family:'Fredoka One',cursive;font-size:1rem;color:#a8e6a0;letter-spacing:0.04em">Kosay Alassaf</div>
    <a href="https://kosayalassaf.github.io/" target="_blank" rel="noopener"
       style="color:rgba(168,230,160,0.6);text-decoration:none;font-size:0.72rem;border-bottom:1px solid rgba(168,230,160,0.3);padding-bottom:1px;transition:color .2s"
       onmouseover="this.style.color='#a8e6a0'" onmouseout="this.style.color='rgba(168,230,160,0.6)'">
      Kosay Alassaf | Portfolio
    </a>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• GAME â•â•â•â•â•â•â•â•â•â• -->
<div class="screen hidden" id="gScreen">
  <canvas id="gc"></canvas>

  <div id="hud">
    <div class="hbox"><span class="hico">ğŸŒŠ</span><div class="hcol"><span class="hval wave-c" id="hWave">1</span><span class="hlbl" id="lWave">Wave</span></div></div>
    <div class="hbox"><span class="hico">ğŸ’°</span><div class="hcol"><span class="hval coin-c" id="hCoins">10</span><span class="hlbl" id="lCoins">Coins</span></div></div>
    <div class="hbox"><span class="hico">ğŸ§Ÿ</span><div class="hcol"><span class="hval hp-c" id="hInv">0/10</span><span class="hlbl" id="lInv">Invaded</span></div></div>
    <div class="hbox"><span class="hico">ğŸ¹</span><div class="hcol"><span class="hval arch-c" id="hArch">1</span><span class="hlbl" id="lArch">Archers</span></div></div>
  </div>

  <div id="ctrls">
    <button class="cbtn b-archer" id="bArcher" onclick="buy('archer')">
      <span class="cico">ğŸ¹</span><span id="lbArcher">Add Archer</span><span class="ccost" id="cArcher">10ğŸª™</span>
    </button>
    <button class="cbtn b-upgrade" id="bUpgrade" onclick="buy('upgrade')">
      <span class="cico">â¬†ï¸</span><span id="lbUpgrade">Upgrade</span><span class="ccost" id="cUpgrade">6ğŸª™</span>
    </button>
    <button class="cbtn b-wall" id="bWall" onclick="buy('wall')">
      <span class="cico">ğŸ§±</span><span id="lbWall">Wall</span><span class="ccost" id="cWall">8ğŸª™</span>
    </button>
    <button class="cbtn b-sniper" id="bSniper" onclick="buy('sniper')">
      <span class="cico">ğŸ¯</span><span id="lbSniper">Sniper</span><span class="ccost" id="cSniper">14ğŸª™</span>
    </button>
    <button class="cbtn b-coins" onclick="openQuiz()">
      <span class="cico">ğŸ’¡</span><span id="lbCoins">+Coins</span><span class="ccost">Quiz!</span>
    </button>
  </div>

  <div id="waveAnn"></div>
  <div id="coinPop"></div>
  <div id="archerHint" style="position:absolute;top:70px;left:50%;transform:translateX(-50%);background:rgba(255,215,0,0.15);border:2px solid rgba(255,215,0,0.5);border-radius:12px;padding:6px 18px;color:#ffd700;font-family:'Fredoka One','Tajawal',cursive;font-size:0.88rem;pointer-events:none;z-index:20;display:none;text-align:center;backdrop-filter:blur(4px)"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• QUIZ MODAL â•â•â•â•â•â•â•â•â•â• -->
<div class="overlay hidden" id="qModal">
  <div class="mbox">
    <div class="mtitle" id="qTitle">Get Coins! ğŸ’°</div>

    <!-- Step 1: Subject -->
    <div id="qS1">
      <div class="stepdots"><div class="dot on"></div><div class="dot"></div><div class="dot"></div></div>
      <p style="color:rgba(255,255,255,.65);text-align:center;margin-bottom:13px;font-size:.93rem" id="lSubjPick">Choose a subject:</p>
      <div class="subjgrid">
        <button class="sbtn s-math" onclick="pickSubj('math')">ğŸ”¢<br><span id="lsMath">Math</span></button>
        <button class="sbtn s-sci"  onclick="pickSubj('science')">ğŸ”¬<br><span id="lsSci">Science</span></button>
        <button class="sbtn s-phy"  onclick="pickSubj('physics')">âš¡<br><span id="lsPhy">Physics</span></button>
      </div>
    </div>

    <!-- Step 2: Difficulty -->
    <div id="qS2" style="display:none">
      <div class="stepdots"><div class="dot"></div><div class="dot on"></div><div class="dot"></div></div>
      <p style="color:rgba(255,255,255,.65);text-align:center;margin-bottom:13px;font-size:.93rem" id="lDiffPick">Choose difficulty:</p>
      <div class="diffgrid">
        <button class="dbtn d-easy" onclick="pickDiff('easy')">ğŸ˜Š<br><span id="ldEasy">Easy</span><br><span class="dreward">+1 ğŸª™</span></button>
        <button class="dbtn d-med"  onclick="pickDiff('medium')">ğŸ¤”<br><span id="ldMed">Medium</span><br><span class="dreward">+2 ğŸª™</span></button>
        <button class="dbtn d-hard" onclick="pickDiff('hard')">ğŸ”¥<br><span id="ldHard">Hard</span><br><span class="dreward">+3 ğŸª™</span></button>
      </div>
    </div>

    <!-- Step 3: Question -->
    <div id="qS3" style="display:none">
      <div class="stepdots"><div class="dot"></div><div class="dot"></div><div class="dot on"></div></div>
      <div class="qbox"><div class="qtxt" id="qTxt"></div></div>
      <div class="agrid" id="aGrid"></div>
    </div>

    <button class="mclose" onclick="closeQuiz()">âœ• <span id="lClose">Close</span></button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• RESULT â•â•â•â•â•â•â•â•â•â• -->
<div class="screen hidden" id="rScreen">
  <div class="remo" id="rEmo">ğŸ’€</div>
  <div class="rtitle" id="rTitle"></div>
  <div class="rstats" id="rStats"></div>
  <button class="rbtn" onclick="restartGame()">ğŸ”„ <span id="lRestart">Play Again</span></button>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LANGUAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var LANG = 'en';
var TX = {
  en:{
    startBtn:'ğŸ® Play Now!', howTo:'Defend your tower from zombies!<br>Earn coins by answering questions!',
    wave:'Wave', coins:'Coins', invaded:'Invaded', archers:'Archers',
    addArcher:'Add Archer', upgrade:'Upgrade', wall:'Wall', sniper:'Sniper', getCoins:'+Coins',
    qTitle:'Get Coins! ğŸ’°', subjPick:'Choose a subject:', diffPick:'Choose difficulty:',
    sMath:'Math', sSci:'Science', sPhy:'Physics',
    dEasy:'Easy', dMed:'Medium', dHard:'Hard',
    close:'Close', restart:'Play Again',
    wann:function(n){return 'âš”ï¸ Wave '+n+'!'},
    bann:function(n){return 'ğŸ’€ BOSS Wave '+n+'!'},
    loseTitle:'Game Over!', winTitle:'Victory! ğŸŠ',
    stats:function(w,k,q){return 'You reached Wave '+w+'<br>Zombies defeated: '+k+'<br>Questions answered: '+q},
    notEnough:'Not enough coins! ğŸ’¸', maxArch:'Maximum archers reached!',
    maxLvl:'Already at max level!', maxWall:'No more wall space!',
    upgraded:'Upgraded! â¬†ï¸', wallBuilt:'Wall built! ğŸ§±',
    archAdded:'Archer added! ğŸ¹', sniperAdded:'Sniper added! ğŸ¯',
  },
  ar:{
    startBtn:'ğŸ® Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†!', howTo:'Ø¯Ø§ÙØ¹ Ø¹Ù† Ø¨Ø±Ø¬Ùƒ Ø¶Ø¯ Ø§Ù„Ø²ÙˆÙ…Ø¨ÙŠ!<br>Ø§Ø±Ø¨Ø­ ÙƒÙˆÙŠÙ†Ø² Ø¨Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©!',
    wave:'Ù…ÙˆØ¬Ø©', coins:'ÙƒÙˆÙŠÙ†Ø²', invaded:'Ø§Ù‚ØªØ­Ù…', archers:'Ø±Ù…Ø§Ø©',
    addArcher:'Ø£Ø¶Ù Ø±Ø§Ù…ÙŠØ§Ù‹', upgrade:'Ø·ÙˆØ±', wall:'Ø¬Ø¯Ø§Ø±', sniper:'Ù‚Ù†Ø§Øµ', getCoins:'+ÙƒÙˆÙŠÙ†Ø²',
    qTitle:'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ÙƒÙˆÙŠÙ†Ø²! ğŸ’°', subjPick:'Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©:', diffPick:'Ø§Ø®ØªØ± Ø§Ù„ØµØ¹ÙˆØ¨Ø©:',
    sMath:'Ø±ÙŠØ§Ø¶ÙŠØ§Øª', sSci:'Ø¹Ù„ÙˆÙ…', sPhy:'ÙÙŠØ²ÙŠØ§Ø¡',
    dEasy:'Ø³Ù‡Ù„', dMed:'Ù…ØªÙˆØ³Ø·', dHard:'ØµØ¹Ø¨',
    close:'Ø¥ØºÙ„Ø§Ù‚', restart:'Ø§Ù„Ø¹Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹',
    wann:function(n){return 'âš”ï¸ Ø§Ù„Ù…ÙˆØ¬Ø© '+n+'!'},
    bann:function(n){return 'ğŸ’€ Ù…ÙˆØ¬Ø© Ø§Ù„Ø¨ÙˆØ³ '+n+'!'},
    loseTitle:'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!', winTitle:'Ø§Ù†ØªØµØ±Øª! ğŸŠ',
    stats:function(w,k,q){return 'ÙˆØµÙ„Øª Ù„Ù„Ù…ÙˆØ¬Ø© '+w+'<br>Ø§Ù„Ø²ÙˆÙ…Ø¨ÙŠ Ø§Ù„Ù…Ù‚ØªÙˆÙ„ÙˆÙ†: '+k+'<br>Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©: '+q},
    notEnough:'Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙˆÙŠÙ†Ø² ÙƒØ§ÙÙŠØ©! ğŸ’¸', maxArch:'ÙˆØµÙ„Øª Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ø±Ù…Ø§Ø©!',
    maxLvl:'ÙˆØµÙ„Øª Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¹Ù„Ù‰!', maxWall:'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙƒØ§Ù† Ù„Ø¬Ø¯Ø§Ø± Ø¢Ø®Ø±!',
    upgraded:'ØªÙ…Øª Ø§Ù„ØªØ±Ù‚ÙŠØ©! â¬†ï¸', wallBuilt:'Ø¬Ø¯Ø§Ø± Ø¬Ø¯ÙŠØ¯! ğŸ§±',
    archAdded:'ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ù…Ù! ğŸ¹', sniperAdded:'ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù‚Ù†Ø§Øµ! ğŸ¯',
  }
};
function T(k){return TX[LANG][k]||k;}
function setLang(l,btn){
  LANG=l;
  document.querySelectorAll('.langBtn').forEach(function(b){b.classList.remove('active');});
  btn.classList.add('active');
  document.documentElement.lang=l;
  document.documentElement.dir=l==='ar'?'rtl':'ltr';
  refreshUI();
}
function refreshUI(){
  var l=LANG;
  document.getElementById('sBtnMain').textContent=TX[l].startBtn;
  document.getElementById('howToTxt').innerHTML=TX[l].howTo;
  document.getElementById('lWave').textContent=TX[l].wave;
  document.getElementById('lCoins').textContent=TX[l].coins;
  document.getElementById('lInv').textContent=TX[l].invaded;
  document.getElementById('lArch').textContent=TX[l].archers;
  document.getElementById('lbArcher').textContent=TX[l].addArcher;
  document.getElementById('lbUpgrade').textContent=TX[l].upgrade;
  document.getElementById('lbWall').textContent=TX[l].wall;
  document.getElementById('lbSniper').textContent=TX[l].sniper;
  document.getElementById('lbCoins').textContent=TX[l].getCoins;
  document.getElementById('qTitle').textContent=TX[l].qTitle;
  document.getElementById('lSubjPick').textContent=TX[l].subjPick;
  document.getElementById('lDiffPick').textContent=TX[l].diffPick;
  document.getElementById('lsMath').textContent=TX[l].sMath;
  document.getElementById('lsSci').textContent=TX[l].sSci;
  document.getElementById('lsPhy').textContent=TX[l].sPhy;
  document.getElementById('ldEasy').textContent=TX[l].dEasy;
  document.getElementById('ldMed').textContent=TX[l].dMed;
  document.getElementById('ldHard').textContent=TX[l].dHard;
  document.getElementById('lClose').textContent=TX[l].close;
  document.getElementById('lRestart').textContent=TX[l].restart;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUESTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var QDB = {
  math:{
    easy:[
      {q:"7 Ã— 8 = ?",ar:"7 Ã— 8 = ØŸ",a:["56","54","48","63"],c:0},
      {q:"125 Ã· 5 = ?",ar:"125 Ã· 5 = ØŸ",a:["20","25","30","15"],c:1},
      {q:"What is 15% of 200?",ar:"Ù…Ø§ Ù‡Ùˆ 15% Ù…Ù† 200ØŸ",a:["25","30","35","40"],c:1},
      {q:"3Â² + 4Â² = ?",ar:"3Â² + 4Â² = ØŸ",a:["25","7","49","20"],c:0},
      {q:"Perimeter of square, side = 9?",ar:"Ù…Ø­ÙŠØ· Ù…Ø±Ø¨Ø¹ Ø·ÙˆÙ„ Ø¶Ù„Ø¹Ù‡ 9 = ØŸ",a:["36","27","18","45"],c:0},
      {q:"1/2 + 1/4 = ?",ar:"1/2 + 1/4 = ØŸ",a:["3/4","2/6","1/8","2/4"],c:0},
      {q:"50% of 80 = ?",ar:"50% Ù…Ù† 80 = ØŸ",a:["40","35","45","50"],c:0},
      {q:"What is 6Â³?",ar:"Ù…Ø§ Ù‡Ùˆ 6Â³ØŸ",a:["216","180","144","36"],c:0},
      {q:"Area: length=8, width=5?",ar:"Ø§Ù„Ù…Ø³Ø§Ø­Ø©: Ø·ÙˆÙ„=8ØŒ Ø¹Ø±Ø¶=5ØŸ",a:["40","26","13","80"],c:0},
      {q:"0.5 Ã— 0.5 = ?",ar:"0.5 Ã— 0.5 = ØŸ",a:["0.25","0.5","1.0","0.025"],c:0},
      {q:"Simplify 18/24",ar:"Ø¨Ø³Ù‘Ø· 18/24",a:["3/4","2/3","4/6","1/2"],c:0},
      {q:"Round 3.76 to nearest whole?",ar:"Ù‚Ø±Ù‘Ø¨ 3.76 Ù„Ø£Ù‚Ø±Ø¨ Ø¹Ø¯Ø¯ ØµØ­ÙŠØ­",a:["3","4","5","6"],c:1},
      {q:"9 Ã— 9 = ?",ar:"9 Ã— 9 = ØŸ",a:["81","72","90","63"],c:0},
      {q:"48 Ã· 6 = ?",ar:"48 Ã· 6 = ØŸ",a:["8","7","9","6"],c:0},
      {q:"What is 25% of 120?",ar:"Ù…Ø§ Ù‡Ùˆ 25% Ù…Ù† 120ØŸ",a:["30","25","35","40"],c:0},
      {q:"What is Ï€ approximately?",ar:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ù„Ù€ Ï€ØŸ",a:["3.14","3.41","2.14","4.13"],c:0},
      {q:"Which is a prime number?",ar:"Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø£ÙˆÙ„ÙŠØŸ",a:["17","15","21","27"],c:0},
      {q:"120 Ã— 5 = ?",ar:"120 Ã— 5 = ØŸ",a:["600","500","700","480"],c:0},
      {q:"3/4 of 80 = ?",ar:"3/4 Ù…Ù† 80 = ØŸ",a:["60","40","70","45"],c:0},
      {q:"What is 2âµ?",ar:"Ù…Ø§ Ù‡Ùˆ 2âµØŸ",a:["32","16","64","25"],c:0},
      {q:"Right angle = ?",ar:"Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© = ØŸ",a:["90Â°","45Â°","180Â°","60Â°"],c:0},
      {q:"Area of triangle: base=10, height=6?",ar:"Ù…Ø³Ø§Ø­Ø© Ù…Ø«Ù„Ø«: Ù‚Ø§Ø¹Ø¯Ø©=10ØŒ Ø§Ø±ØªÙØ§Ø¹=6ØŸ",a:["30","60","16","50"],c:0},
      {q:"1000 Ã· 25 = ?",ar:"1000 Ã· 25 = ØŸ",a:["40","25","50","35"],c:0},
      {q:"Supplementary angles sum to:",ar:"Ø§Ù„Ø²Ø§ÙˆÙŠØªØ§Ù† Ø§Ù„Ù…ØªØªØ§Ù…ØªØ§Ù† Ù…Ø¬Ù…ÙˆØ¹Ù‡Ù…Ø§:",a:["180Â°","90Â°","360Â°","45Â°"],c:0},
      {q:"8Â² = ?",ar:"8Â² = ØŸ",a:["64","56","72","48"],c:0},
      {q:"30 out of 150 = ?%",ar:"30 Ù…Ù† 150 ØªØ³Ø§ÙˆÙŠ ÙƒÙ… Ø¨Ø§Ù„Ù…Ø¦Ø©ØŸ",a:["20%","25%","15%","30%"],c:0},
      {q:"0.75 as a fraction:",ar:"0.75 ÙƒØ³Ø±Ø§Ù‹:",a:["3/4","7/5","5/8","3/5"],c:0},
      {q:"Sum of angles in a triangle = ?",ar:"Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø«Ù„Ø« = ØŸ",a:["180Â°","360Â°","90Â°","270Â°"],c:0},
      {q:"144 Ã· 12 = ?",ar:"144 Ã· 12 = ØŸ",a:["12","11","13","14"],c:0},
    ],
    medium:[
      {q:"Solve: 3x + 9 = 24",ar:"Ø­Ù„: 3Ø³ + 9 = 24",a:["x=5","x=4","x=6","x=3"],c:0},
      {q:"Right triangle: legs 3 & 4. Hypotenuse?",ar:"Ù…Ø«Ù„Ø« Ù‚Ø§Ø¦Ù… Ø£Ø¶Ù„Ø§Ø¹Ù‡ 3 Ùˆ4. Ø§Ù„ÙˆØªØ± = ØŸ",a:["5","7","6","4"],c:0},
      {q:"Train: 60 km/h for 2.5h. Distance?",ar:"Ù‚Ø·Ø§Ø± 60ÙƒÙ…/Ø³Ø§Ø¹Ø© Ù„Ù€ 2.5 Ø³Ø§Ø¹Ø©. Ø§Ù„Ù…Ø³Ø§ÙØ©ØŸ",a:["150km","120km","180km","100km"],c:0},
      {q:"If 40% of x = 20, then x = ?",ar:"Ø¥Ø°Ø§ ÙƒØ§Ù† 40% Ù…Ù† Ø³ = 20ØŒ Ø¥Ø°Ù† Ø³ = ØŸ",a:["50","40","60","80"],c:0},
      {q:"LCM of 12 and 18?",ar:"Ø§Ù„Ù…Ø¶Ø§Ø¹Ù Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø§Ù„Ø£ØµØºØ± Ù„Ù€ 12 Ùˆ18ØŸ",a:["36","24","6","72"],c:0},
      {q:"Area of circle, r=7? (Ï€â‰ˆ3.14)",ar:"Ù…Ø³Ø§Ø­Ø© Ø¯Ø§Ø¦Ø±Ø© Ù†ØµÙ Ù‚Ø·Ø±Ù‡Ø§ 7ØŸ (Ï€â‰ˆ3.14)",a:["153.86","43.96","21.98","100"],c:0},
      {q:"-5 + 3 Ã— (-2) = ?",ar:"-5 + 3 Ã— (-2) = ØŸ",a:["-11","1","-1","11"],c:0},
      {q:"Volume of cube, side=4?",ar:"Ø­Ø¬Ù… Ù…ÙƒØ¹Ø¨ Ø·ÙˆÙ„ Ø¶Ù„Ø¹Ù‡ 4ØŸ",a:["64","48","16","32"],c:0},
      {q:"4/5 Ã· 2/3 = ?",ar:"4/5 Ã· 2/3 = ØŸ",a:["6/5","8/15","2/3","12/10"],c:0},
      {q:"Prime factors of 60?",ar:"Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù„Ù€ 60ØŸ",a:["2Â²Ã—3Ã—5","2Ã—3Ã—10","4Ã—15","2Â³Ã—5"],c:0},
      {q:"If x/4 = 7, then x = ?",ar:"Ø¥Ø°Ø§ ÙƒØ§Ù† Ø³/4 = 7ØŒ Ø¥Ø°Ù† Ø³ = ØŸ",a:["28","11","3","47"],c:0},
      {q:"GCF of 24 and 36?",ar:"Ø§Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø§Ù„Ø£ÙƒØ¨Ø± Ù„Ù€ 24 Ùˆ36ØŸ",a:["12","6","18","24"],c:0},
      {q:"Speed = 80km/h, time = 3h. Distance?",ar:"Ø³Ø±Ø¹Ø© = 80 ÙƒÙ…/Ø³Ø§Ø¹Ø©ØŒ Ø²Ù…Ù† = 3 Ø³Ø§Ø¹Ø§Øª. Ø§Ù„Ù…Ø³Ø§ÙØ©ØŸ",a:["240km","270km","200km","300km"],c:0},
      {q:"What is 35% of 60?",ar:"Ù…Ø§ Ù‡Ùˆ 35% Ù…Ù† 60ØŸ",a:["21","18","24","15"],c:0},
      {q:"Perimeter of circle, r=5? (Ï€â‰ˆ3.14)",ar:"Ù…Ø­ÙŠØ· Ø¯Ø§Ø¦Ø±Ø© Ù†ØµÙ Ù‚Ø·Ø±Ù‡Ø§ 5ØŸ (Ï€â‰ˆ3.14)",a:["31.4","15.7","78.5","10"],c:0},
      {q:"Solve: 5x - 3 = 22",ar:"Ø­Ù„: 5Ø³ - 3 = 22",a:["x=5","x=4","x=6","x=3"],c:0},
      {q:"Surface area of cube, side=3?",ar:"Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙƒÙ„ÙŠØ© Ù„Ù…ÙƒØ¹Ø¨ Ø¶Ù„Ø¹Ù‡ 3ØŸ",a:["54","27","36","72"],c:0},
      {q:"Ratio 4:6 simplified:",ar:"Ø§Ù„Ù†Ø³Ø¨Ø© 4:6 Ù…Ø¨Ø³Ù‘Ø·Ø©:",a:["2:3","1:2","3:4","4:6"],c:0},
      {q:"Which is NOT a multiple of 7?",ar:"Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ Ù„ÙŠØ³ Ù…Ø¶Ø§Ø¹ÙØ§Ù‹ Ù„Ù€ 7ØŸ",a:["74","49","56","63"],c:0},
      {q:"1.5 Ã— 1.5 = ?",ar:"1.5 Ã— 1.5 = ØŸ",a:["2.25","3.0","1.75","2.5"],c:0},
      {q:"If 3y = 21, y = ?",ar:"Ø¥Ø°Ø§ ÙƒØ§Ù† 3Øµ = 21ØŒ Øµ = ØŸ",a:["7","6","8","9"],c:0},
      {q:"Convert 2.5 hours to minutes?",ar:"Ø­ÙˆÙ‘Ù„ 2.5 Ø³Ø§Ø¹Ø© Ø¥Ù„Ù‰ Ø¯Ù‚Ø§Ø¦Ù‚ØŸ",a:["150","125","200","100"],c:0},
    ],
    hard:[
      {q:"xÂ² - 5x + 6 = 0. Sum of solutions?",ar:"Ø³Â² - 5Ø³ + 6 = 0. Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø­Ù„ÙˆÙ„ØŸ",a:["5","6","3","2"],c:0},
      {q:"a:b = 3:5 and a+b = 64. Find a.",ar:"Ø£:Ø¨ = 3:5 Ùˆ Ø£+Ø¨ = 64. Ø£ÙˆØ¬Ø¯ Ø£.",a:["24","40","20","32"],c:0},
      {q:"Trapezoid: bases 6&10, height 4. Area?",ar:"Ø´Ø¨Ù‡ Ù…Ù†Ø­Ø±Ù: Ù‚Ø§Ø¹Ø¯ØªØ§Ù‡ 6 Ùˆ10ØŒ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ 4. Ø§Ù„Ù…Ø³Ø§Ø­Ø©ØŸ",a:["32","40","24","48"],c:0},
      {q:"Sum of interior angles of hexagon?",ar:"Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© Ù„Ù„Ø³Ø¯Ø§Ø³ÙŠØŸ",a:["720Â°","360Â°","540Â°","900Â°"],c:0},
      {q:"2(3x - 4) = 5x + 2. Find x.",ar:"2(3Ø³ - 4) = 5Ø³ + 2. Ø£ÙˆØ¬Ø¯ Ø³.",a:["x=10","x=8","x=12","x=6"],c:0},
      {q:"90 km/h converted to m/s?",ar:"90 ÙƒÙ…/Ø³Ø§Ø¹Ø© Ø¨Ø§Ù„Ù…ØªØ±/Ø«Ø§Ù†ÙŠØ©ØŸ",a:["25 m/s","30 m/s","18 m/s","45 m/s"],c:0},
      {q:"If f(x)=2xÂ²-3, find f(4).",ar:"Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù(Ø³)=2Ø³Â²-3ØŒ Ø£ÙˆØ¬Ø¯ Ù(4).",a:["29","13","32","16"],c:0},
      {q:"Cylinder: r=3, h=10. Volume? (Ï€â‰ˆ3.14)",ar:"Ø£Ø³Ø·ÙˆØ§Ù†Ø©: Ù†Ù‚=3ØŒ Ø¹=10. Ø§Ù„Ø­Ø¬Ù…ØŸ (Ï€â‰ˆ3.14)",a:["282.6","94.2","188.4","30"],c:0},
      {q:"Diagonal of square, side=6? (âˆš2â‰ˆ1.41)",ar:"Ù‚Ø·Ø± Ù…Ø±Ø¨Ø¹ Ø¶Ù„Ø¹Ù‡ 6ØŸ (âˆš2â‰ˆ1.41)",a:["8.46","6","12","10"],c:0},
      {q:"(x+3)(x-2) expanded = ?",ar:"(Ø³+3)(Ø³-2) Ø¨Ø¹Ø¯ Ø§Ù„ØªÙˆØ³ÙŠØ¹ = ØŸ",a:["xÂ²+x-6","xÂ²-x-6","xÂ²+5x-6","xÂ²-6"],c:0},
      {q:"A 40% discount on 250. Final price?",ar:"Ø®ØµÙ… 40% Ø¹Ù„Ù‰ 250. Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØŸ",a:["150","100","175","200"],c:0},
      {q:"3 workers finish in 8 days. 6 workers take?",ar:"3 Ø¹Ù…Ø§Ù„ ÙŠÙ†Ù‡ÙˆÙ† ÙÙŠ 8 Ø£ÙŠØ§Ù…. 6 Ø¹Ù…Ø§Ù„ ÙŠØ­ØªØ§Ø¬ÙˆÙ†ØŸ",a:["4 days","6 days","12 days","2 days"],c:0},
      {q:"Sphere surface area: r=3? (Ï€â‰ˆ3.14)",ar:"Ù…Ø³Ø§Ø­Ø© Ø³Ø·Ø­ ÙƒØ±Ø©: Ù†Ù‚=3ØŸ (Ï€â‰ˆ3.14)",a:["113.04","28.26","75.36","56.52"],c:0},
      {q:"If logâ‚â‚€(1000) = ?",ar:"Ù…Ø§ Ù‡Ùˆ logâ‚â‚€(1000)ØŸ",a:["3","100","10","1000"],c:0},
      {q:"Solve: |2x - 4| = 10. One solution?",ar:"Ø­Ù„: |2Ø³ - 4| = 10. Ø£Ø­Ø¯ Ø§Ù„Ø­Ù„ÙˆÙ„ØŸ",a:["7","3","5","8"],c:0},
      {q:"Arithmetic sequence: 3,7,11... 10th term?",ar:"Ù…ØªØªØ§Ù„ÙŠØ© Ø­Ø³Ø§Ø¨ÙŠØ©: 3ØŒ7ØŒ11... Ø§Ù„Ø­Ø¯ Ø§Ù„Ø¹Ø§Ø´Ø±ØŸ",a:["39","35","43","40"],c:0},
    ]
  },
  science:{
    easy:[
      {q:"Plants make food through:",ar:"Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ØªØµÙ†Ø¹ ØºØ°Ø§Ø¡Ù‡Ø§ Ø¹Ù† Ø·Ø±ÙŠÙ‚:",a:["Photosynthesis|Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ","Respiration|Ø§Ù„ØªÙ†ÙØ³","Digestion|Ø§Ù„Ù‡Ø¶Ù…","Absorption|Ø§Ù„Ø§Ù…ØªØµØ§Øµ"],c:0},
      {q:"Plants absorb which gas from air?",ar:"Ø£ÙŠ ØºØ§Ø² ØªÙ…ØªØµÙ‡ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù…Ù† Ø§Ù„Ù‡ÙˆØ§Ø¡ØŸ",a:["COâ‚‚","Oâ‚‚","Nâ‚‚","Hâ‚‚"],c:0},
      {q:"The human heart has ___ chambers.",ar:"Ù‚Ù„Ø¨ Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ù„Ù‡ ___ Ø­Ø¬Ø±Ø§Øª.",a:["4","2","3","6"],c:0},
      {q:"Water boils at ___ Â°C.",ar:"ÙŠØºÙ„ÙŠ Ø§Ù„Ù…Ø§Ø¡ Ø¹Ù†Ø¯ ___ Â°Ù….",a:["100","90","80","120"],c:0},
      {q:"Powerhouse of the cell:",ar:"Ù…Ø­Ø·Ø© Ø§Ù„Ø·Ø§Ù‚Ø© ÙÙŠ Ø§Ù„Ø®Ù„ÙŠØ©:",a:["Mitochondria|Ø§Ù„Ù…ÙŠØªÙˆÙƒÙˆÙ†Ø¯Ø±ÙŠØ§","Nucleus|Ø§Ù„Ù†ÙˆØ§Ø©","Ribosome|Ø§Ù„Ø±ÙŠØ¨ÙˆØ³ÙˆÙ…","Vacuole|Ø§Ù„ÙØ¬ÙˆØ©"],c:0},
      {q:"Vitamin produced by sunlight:",ar:"Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ† Ø§Ù„Ø°ÙŠ ÙŠÙÙ†ØªØ¬ Ø¨Ø§Ù„Ø´Ù…Ø³:",a:["D|Ø¯","C|Ø¬","A|Ø£","B|Ø¨"],c:0},
      {q:"Largest planet in solar system:",ar:"Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©:",a:["Jupiter|Ø§Ù„Ù…Ø´ØªØ±ÙŠ","Saturn|Ø²Ø­Ù„","Neptune|Ù†Ø¨ØªÙˆÙ†","Uranus|Ø£ÙˆØ±Ø§Ù†ÙˆØ³"],c:0},
      {q:"Universal donor blood type:",ar:"ÙØµÙŠÙ„Ø© Ø§Ù„Ø¯Ù… Ø§Ù„Ù…Ø§Ù†Ø­ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ:",a:["O-","A+","B-","AB+"],c:0},
      {q:"Sound travels fastest through:",ar:"Ø§Ù„ØµÙˆØª ÙŠØ³Ø§ÙØ± Ø¨Ø£Ø³Ø±Ø¹ Ù…Ø§ ÙŠÙƒÙˆÙ† ÙÙŠ:",a:["Solids|Ø§Ù„ØµÙ„Ø¨Ø©","Liquids|Ø§Ù„Ø³ÙˆØ§Ø¦Ù„","Gases|Ø§Ù„ØºØ§Ø²Ø§Øª","Vacuum|Ø§Ù„ÙØ±Ø§Øº"],c:0},
      {q:"Bees are important for:",ar:"Ø§Ù„Ù†Ø­Ù„ Ù…Ù‡Ù… Ù…Ù† Ø£Ø¬Ù„:",a:["Pollination|Ø§Ù„ØªÙ„Ù‚ÙŠØ­","Photosynthesis|Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ","Digestion|Ø§Ù„Ù‡Ø¶Ù…","Erosion|Ø§Ù„ØªØ¹Ø±ÙŠØ©"],c:0},
      {q:"Planet closest to the Sun:",ar:"Ø£Ù‚Ø±Ø¨ ÙƒÙˆÙƒØ¨ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ù…Ø³:",a:["Mercury|Ø¹Ø·Ø§Ø±Ø¯","Venus|Ø§Ù„Ø²Ù‡Ø±Ø©","Earth|Ø§Ù„Ø£Ø±Ø¶","Mars|Ø§Ù„Ù…Ø±ÙŠØ®"],c:0},
      {q:"Solid water is called:",ar:"Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„ØµÙ„Ø¨ ÙŠÙØ³Ù…Ù‰:",a:["Ice|Ø¬Ù„ÙŠØ¯","Steam|Ø¨Ø®Ø§Ø±","Gas|ØºØ§Ø²","Plasma|Ø¨Ù„Ø§Ø²Ù…Ø§"],c:0},
      {q:"How many bones in adult human body?",ar:"ÙƒÙ… Ø¹Ø¸Ù…Ø© ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ",a:["206","208","196","220"],c:0},
      {q:"Which organ pumps blood?",ar:"Ø£ÙŠ Ø¹Ø¶Ùˆ ÙŠØ¶Ø® Ø§Ù„Ø¯Ù…ØŸ",a:["Heart|Ø§Ù„Ù‚Ù„Ø¨","Lung|Ø§Ù„Ø±Ø¦Ø©","Kidney|Ø§Ù„ÙƒÙ„ÙŠØ©","Liver|Ø§Ù„ÙƒØ¨Ø¯"],c:0},
      {q:"Plants release which gas during photosynthesis?",ar:"Ù…Ø§ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø°ÙŠ ØªØ·Ù„Ù‚Ù‡ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ø®Ù„Ø§Ù„ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠØŸ",a:["Oâ‚‚|Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†","COâ‚‚|Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†","Nâ‚‚|Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†","Hâ‚‚|Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"],c:0},
      {q:"The Sun is a:",ar:"Ø§Ù„Ø´Ù…Ø³ Ù‡ÙŠ:",a:["Star|Ù†Ø¬Ù…","Planet|ÙƒÙˆÙƒØ¨","Moon|Ù‚Ù…Ø±","Comet|Ù…Ø°Ù†Ø¨"],c:0},
      {q:"Which is NOT a mammal?",ar:"Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ Ù„ÙŠØ³ Ù…Ù† Ø§Ù„Ø«Ø¯ÙŠÙŠØ§ØªØŸ",a:["Shark|Ù‚Ø±Ø´","Whale|Ø­ÙˆØª","Dolphin|Ø¯Ù„ÙÙŠÙ†","Bat|Ø®ÙØ§Ø´"],c:0},
      {q:"Human body has ___ senses.",ar:"Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ù„Ø¯ÙŠÙ‡ ___ Ø­ÙˆØ§Ø³.",a:["5","4","6","7"],c:0},
      {q:"The moon orbits:",ar:"Ø§Ù„Ù‚Ù…Ø± ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„:",a:["Earth|Ø§Ù„Ø£Ø±Ø¶","Sun|Ø§Ù„Ø´Ù…Ø³","Mars|Ø§Ù„Ù…Ø±ÙŠØ®","Jupiter|Ø§Ù„Ù…Ø´ØªØ±ÙŠ"],c:0},
      {q:"Water chemical formula is:",ar:"Ø§Ù„ØµÙŠØºØ© Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ© Ù„Ù„Ù…Ø§Ø¡ Ù‡ÙŠ:",a:["Hâ‚‚O","HOâ‚‚","Hâ‚ƒO","HO"],c:0},
      {q:"Which sense organ detects smell?",ar:"Ø£ÙŠ Ø¹Ø¶Ùˆ Ø­Ø³ÙŠ ÙŠÙƒØ´Ù Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ØŸ",a:["Nose|Ø§Ù„Ø£Ù†Ù","Eye|Ø§Ù„Ø¹ÙŠÙ†","Ear|Ø§Ù„Ø£Ø°Ù†","Tongue|Ø§Ù„Ù„Ø³Ø§Ù†"],c:0},
      {q:"Caterpillar turns into:",ar:"ØªØªØ­ÙˆÙ„ Ø§Ù„ÙŠØ±Ù‚Ø© Ø¥Ù„Ù‰:",a:["Butterfly|ÙØ±Ø§Ø´Ø©","Bee|Ù†Ø­Ù„Ø©","Spider|Ø¹Ù†ÙƒØ¨ÙˆØª","Ant|Ù†Ù…Ù„Ø©"],c:0},
      {q:"Humans breathe ___ from the air.",ar:"Ø§Ù„Ø¨Ø´Ø± ÙŠØªÙ†ÙØ³ÙˆÙ† ___ Ù…Ù† Ø§Ù„Ù‡ÙˆØ§Ø¡.",a:["Oxygen|Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†","Carbon dioxide|Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†","Nitrogen|Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†","Hydrogen|Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†"],c:0},
      {q:"Which planet is known as the Red Planet?",ar:"Ø£ÙŠ ÙƒÙˆÙƒØ¨ ÙŠÙØ¹Ø±Ù Ø¨Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ",a:["Mars|Ø§Ù„Ù…Ø±ÙŠØ®","Jupiter|Ø§Ù„Ù…Ø´ØªØ±ÙŠ","Venus|Ø§Ù„Ø²Ù‡Ø±Ø©","Saturn|Ø²Ø­Ù„"],c:0},
      {q:"Roots of a plant absorb:",ar:"Ø¬Ø°ÙˆØ± Ø§Ù„Ù†Ø¨Ø§Øª ØªÙ…ØªØµ:",a:["Water & minerals|Ù…Ø§Ø¡ ÙˆÙ…Ø¹Ø§Ø¯Ù†","Sunlight|Ø¶ÙˆØ¡ Ø´Ù…Ø³","COâ‚‚|Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†","Oxygen|Ø£ÙƒØ³Ø¬ÙŠÙ†"],c:0},
      {q:"Blood color is red due to:",ar:"Ù„ÙˆÙ† Ø§Ù„Ø¯Ù… Ø£Ø­Ù…Ø± Ø¨Ø³Ø¨Ø¨:",a:["Hemoglobin|Ø§Ù„Ù‡ÙŠÙ…ÙˆØºÙ„ÙˆØ¨ÙŠÙ†","Iron only|Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙÙ‚Ø·","Red cells only|Ø§Ù„Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø­Ù…Ø±Ø§Ø¡ ÙÙ‚Ø·","Plasma|Ø§Ù„Ø¨Ù„Ø§Ø²Ù…Ø§"],c:0},
    ],
    medium:[
      {q:"Osmosis: water moves from ___ to ___ concentration.",ar:"Ø§Ù„ØªÙ†Ø§Ø¶Ø­: Ø§Ù„Ù…Ø§Ø¡ ÙŠÙ†ØªÙ‚Ù„ Ù…Ù† ØªØ±ÙƒÙŠØ² ___ Ø¥Ù„Ù‰ ___.",a:["Lowâ†’High|Ù…Ù†Ø®ÙØ¶â†’Ù…Ø±ØªÙØ¹","Highâ†’Low|Ù…Ø±ØªÙØ¹â†’Ù…Ù†Ø®ÙØ¶","Equalâ†’Equal","None"],c:0},
      {q:"DNA is found in cell's:",ar:"DNA ÙŠÙˆØ¬Ø¯ ÙÙŠ:",a:["Nucleus|Ø§Ù„Ù†ÙˆØ§Ø©","Cytoplasm|Ø§Ù„Ø³ÙŠØªÙˆØ¨Ù„Ø§Ø²Ù…","Membrane|Ø§Ù„ØºØ´Ø§Ø¡","Ribosome|Ø§Ù„Ø±ÙŠØ¨ÙˆØ³ÙˆÙ…"],c:0},
      {q:"Rock formed from lava:",ar:"ØµØ®ÙˆØ± ØªØªØ´ÙƒÙ„ Ù…Ù† Ø§Ù„Ø­Ù…Ù… Ø§Ù„Ø¨Ø±ÙƒØ§Ù†ÙŠØ©:",a:["Igneous|Ø§Ù„Ù†Ø§Ø±ÙŠØ©","Sedimentary|Ø§Ù„Ø±Ø³ÙˆØ¨ÙŠØ©","Metamorphic|Ø§Ù„Ù…ØªØ­ÙˆÙ„Ø©","Limestone|Ø§Ù„Ø­Ø¬Ø± Ø§Ù„Ø¬ÙŠØ±ÙŠ"],c:0},
      {q:"Chlorophyll gives plants ___ color.",ar:"Ø§Ù„ÙƒÙ„ÙˆØ±ÙˆÙÙŠÙ„ ÙŠØ¹Ø·ÙŠ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ø§Ù„Ù„ÙˆÙ† ___.",a:["Green|Ø§Ù„Ø£Ø®Ø¶Ø±","Yellow|Ø§Ù„Ø£ØµÙØ±","Red|Ø§Ù„Ø£Ø­Ù…Ø±","Blue|Ø§Ù„Ø£Ø²Ø±Ù‚"],c:0},
      {q:"Mushrooms belong to kingdom:",ar:"Ø§Ù„ÙØ·Ø±ÙŠØ§Øª ØªÙ†ØªÙ…ÙŠ Ù„Ù…Ù…Ù„ÙƒØ©:",a:["Fungi|Ø§Ù„ÙØ·Ø±ÙŠØ§Øª","Plantae|Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª","Animalia|Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª","Protista|Ø§Ù„Ø¨Ø±ÙˆØªÙŠØ³ØªØ§"],c:0},
      {q:"Food is mainly digested in:",ar:"ÙŠØªÙ… Ù‡Ø¶Ù… Ø§Ù„Ø·Ø¹Ø§Ù… Ø¨Ø´ÙƒÙ„ Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ:",a:["Small intestine|Ø§Ù„Ø£Ù…Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©","Stomach|Ø§Ù„Ù…Ø¹Ø¯Ø©","Large intestine|Ø§Ù„Ø£Ù…Ø¹Ø§Ø¡ Ø§Ù„ØºÙ„ÙŠØ¸Ø©","Liver|Ø§Ù„ÙƒØ¨Ø¯"],c:0},
      {q:"Organ that filters blood:",ar:"Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ø°ÙŠ ÙŠØµÙÙŠ Ø§Ù„Ø¯Ù…:",a:["Kidney|Ø§Ù„ÙƒÙ„ÙŠØ©","Liver|Ø§Ù„ÙƒØ¨Ø¯","Heart|Ø§Ù„Ù‚Ù„Ø¨","Lungs|Ø§Ù„Ø±Ø¦ØªØ§Ù†"],c:0},
      {q:"Photosynthesis products:",ar:"Ù†ÙˆØ§ØªØ¬ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ:",a:["Glucose+Oâ‚‚","COâ‚‚+Hâ‚‚O","ATP+NADPH","Hâ‚‚+COâ‚‚"],c:0},
      {q:"Which planet has rings?",ar:"Ø£ÙŠ ÙƒÙˆÙƒØ¨ Ù„Ù‡ Ø­Ù„Ù‚Ø§Øª ÙˆØ§Ø¶Ø­Ø©ØŸ",a:["Saturn|Ø²Ø­Ù„","Jupiter|Ø§Ù„Ù…Ø´ØªØ±ÙŠ","Uranus|Ø£ÙˆØ±Ø§Ù†ÙˆØ³","Neptune|Ù†Ø¨ØªÙˆÙ†"],c:0},
      {q:"Cells divide by process called:",ar:"Ø§Ù„Ø®Ù„Ø§ÙŠØ§ ØªÙ†Ù‚Ø³Ù… Ø¨Ø¹Ù…Ù„ÙŠØ© ØªØ³Ù…Ù‰:",a:["Mitosis|Ø§Ù„Ø§Ù†Ù‚Ø³Ø§Ù…","Osmosis|Ø§Ù„ØªÙ†Ø§Ø¶Ø­","Photosynthesis|Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ","Diffusion|Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±"],c:0},
      {q:"Respiration in cells produces:",ar:"Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„Ø®Ù„ÙˆÙŠ ÙŠÙ†ØªØ¬:",a:["Energy|Ø·Ø§Ù‚Ø©","Glucose|Ø¬Ù„ÙˆÙƒÙˆØ²","Water only|Ù…Ø§Ø¡ ÙÙ‚Ø·","COâ‚‚ only|Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† ÙÙ‚Ø·"],c:0},
      {q:"Vertebrates are animals with:",ar:"Ø§Ù„ÙÙ‚Ø§Ø±ÙŠØ§Øª Ù‡ÙŠ Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø°Ø§Øª:",a:["Backbone|Ø¹Ù…ÙˆØ¯ ÙÙ‚Ø±ÙŠ","Wings|Ø£Ø¬Ù†Ø­Ø©","Scales|Ù‚Ø´ÙˆØ±","6 legs|6 Ø£Ø±Ø¬Ù„"],c:0},
      {q:"The hardest substance in the human body:",ar:"Ø£ØµÙ„Ø¨ Ù…Ø§Ø¯Ø© ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†:",a:["Tooth enamel|Ù…ÙŠÙ†Ø§ Ø§Ù„Ø£Ø³Ù†Ø§Ù†","Bone|Ø§Ù„Ø¹Ø¸Ù…","Cartilage|Ø§Ù„ØºØ¶Ø±ÙˆÙ","Nail|Ø§Ù„Ø¸ÙØ±"],c:0},
      {q:"Plants store food as:",ar:"Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ØªØ®Ø²Ù† Ø§Ù„ØºØ°Ø§Ø¡ Ø¹Ù„Ù‰ Ø´ÙƒÙ„:",a:["Starch|Ù†Ø´Ø§","Glucose|Ø¬Ù„ÙˆÙƒÙˆØ²","Protein|Ø¨Ø±ÙˆØªÙŠÙ†","Fat|Ø¯Ù‡ÙˆÙ†"],c:0},
      {q:"Arteries carry blood ___ the heart.",ar:"Ø§Ù„Ø´Ø±Ø§ÙŠÙŠÙ† ØªØ­Ù…Ù„ Ø§Ù„Ø¯Ù… ___ Ø§Ù„Ù‚Ù„Ø¨.",a:["Away from|Ø¨Ø¹ÙŠØ¯Ø§Ù‹ Ø¹Ù†","Toward|Ù†Ø­Ùˆ","Around|Ø­ÙˆÙ„","Into|Ø¯Ø§Ø®Ù„"],c:0},
      {q:"Fossil fuels formed from:",ar:"Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø§Ù„Ø£Ø­ÙÙˆØ±ÙŠ ØªØ´ÙƒÙ‘Ù„ Ù…Ù†:",a:["Ancient organisms|ÙƒØ§Ø¦Ù†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø©","Volcanic rock|ØµØ®ÙˆØ± Ø¨Ø±ÙƒØ§Ù†ÙŠØ©","Sea water|Ù…Ø§Ø¡ Ø§Ù„Ø¨Ø­Ø±","Desert sand|Ø±Ù…Ø§Ù„ Ø§Ù„ØµØ­Ø±Ø§Ø¡"],c:0},
      {q:"Which gas makes up most of Earth's atmosphere?",ar:"Ø£ÙŠ ØºØ§Ø² ÙŠØ´ÙƒÙ‘Ù„ Ù…Ø¹Ø¸Ù… Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø¬ÙˆÙŠ Ù„Ù„Ø£Ø±Ø¶ØŸ",a:["Nitrogen|Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†","Oxygen|Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†","COâ‚‚|Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†","Argon|Ø§Ù„Ø£Ø±ØºÙˆÙ†"],c:0},
      {q:"An ecosystem includes:",ar:"Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØ¦ÙŠ ÙŠØ´Ù…Ù„:",a:["Living & non-living|Ø­ÙŠÙ‘ ÙˆØºÙŠØ± Ø­ÙŠÙ‘","Only animals|Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙÙ‚Ø·","Only plants|Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ÙÙ‚Ø·","Only soil|Ø§Ù„ØªØ±Ø¨Ø© ÙÙ‚Ø·"],c:0},
      {q:"The process of water changing to vapour is:",ar:"ØªØ­ÙˆÙ‘Ù„ Ø§Ù„Ù…Ø§Ø¡ Ø¥Ù„Ù‰ Ø¨Ø®Ø§Ø± ÙŠÙØ³Ù…Ù‰:",a:["Evaporation|Ø§Ù„ØªØ¨Ø®Ø±","Condensation|Ø§Ù„ØªÙƒØ«Ù","Freezing|Ø§Ù„ØªØ¬Ù…Ø¯","Melting|Ø§Ù„Ø§Ù†ØµÙ‡Ø§Ø±"],c:0},
      {q:"Which organ produces insulin?",ar:"Ø£ÙŠ Ø¹Ø¶Ùˆ ÙŠÙ†ØªØ¬ Ø§Ù„Ø£Ù†Ø³ÙˆÙ„ÙŠÙ†ØŸ",a:["Pancreas|Ø§Ù„Ø¨Ù†ÙƒØ±ÙŠØ§Ø³","Liver|Ø§Ù„ÙƒØ¨Ø¯","Kidney|Ø§Ù„ÙƒÙ„ÙŠØ©","Stomach|Ø§Ù„Ù…Ø¹Ø¯Ø©"],c:0},
    ],
    hard:[
      {q:"Cellular respiration equation products:",ar:"Ù†ÙˆØ§ØªØ¬ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„Ø®Ù„ÙˆÙŠ:",a:["COâ‚‚+Hâ‚‚O+ATP","Glucose+Oâ‚‚","Oâ‚‚+Hâ‚‚O","ATP only"],c:0},
      {q:"Antibodies are produced by:",ar:"Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ù…Ø¶Ø§Ø¯Ø© ØªÙÙ†ØªØ¬ Ø¨ÙˆØ§Ø³Ø·Ø©:",a:["B lymphocytes|Ø®Ù„Ø§ÙŠØ§ B","T lymphocytes|Ø®Ù„Ø§ÙŠØ§ T","Red blood cells|ÙƒØ±ÙŠØ§Øª Ø­Ù…Ø±Ø§Ø¡","Platelets|Ø§Ù„ØµÙØ§Ø¦Ø­"],c:0},
      {q:"Ozone layer is located in:",ar:"Ø·Ø¨Ù‚Ø© Ø§Ù„Ø£ÙˆØ²ÙˆÙ† ØªÙˆØ¬Ø¯ ÙÙŠ:",a:["Stratosphere|Ø§Ù„Ø³ØªØ±Ø§ØªÙˆØ³ÙÙŠØ±","Troposphere|Ø§Ù„ØªØ±ÙˆØ¨ÙˆØ³ÙÙŠØ±","Mesosphere|Ø§Ù„Ù…ÙŠØ²ÙˆØ³ÙÙŠØ±","Thermosphere|Ø§Ù„Ø«Ø±Ù…ÙˆØ³ÙÙŠØ±"],c:0},
      {q:"Enzyme breaking starch in saliva:",ar:"Ø¥Ù†Ø²ÙŠÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§ ÙÙŠ Ø§Ù„Ù„Ø¹Ø§Ø¨:",a:["Amylase|Ø§Ù„Ø£Ù…ÙŠÙ„ÙŠØ²","Lipase|Ø§Ù„Ù„ÙŠØ¨Ø§Ø²","Protease|Ø§Ù„Ø¨Ø±ÙˆØªÙŠØ§Ø²","Lactase|Ø§Ù„Ù„Ø§ÙƒØªØ§Ø²"],c:0},
      {q:"Which base pairs with Adenine in DNA?",ar:"Ø£ÙŠ Ù‚Ø§Ø¹Ø¯Ø© ØªØ±ØªØ¨Ø· Ø¨Ø§Ù„Ø£Ø¯ÙŠÙ†ÙŠÙ† ÙÙŠ DNAØŸ",a:["Thymine|Ø§Ù„Ø«Ø§ÙŠÙ…ÙŠÙ†","Guanine|Ø§Ù„ØºÙˆØ§Ù†ÙŠÙ†","Cytosine|Ø§Ù„Ø³ÙŠØªÙˆØ²ÙŠÙ†","Uracil|Ø§Ù„ÙŠÙˆØ±Ø§Ø³ÙŠÙ„"],c:0},
      {q:"Process by which plants lose water:",ar:"Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙŠ ØªÙÙ‚Ø¯ Ø¨Ù‡Ø§ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ø§Ù„Ù…Ø§Ø¡:",a:["Transpiration|Ø§Ù„Ù†ØªØ­","Respiration|Ø§Ù„ØªÙ†ÙØ³","Photosynthesis|Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ","Osmosis|Ø§Ù„ØªÙ†Ø§Ø¶Ø­"],c:0},
      {q:"Meiosis produces cells with ___ chromosomes.",ar:"Ø§Ù„Ø§Ù†Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ù†ØµÙ ÙŠÙ†ØªØ¬ Ø®Ù„Ø§ÙŠØ§ Ø°Ø§Øª ___ ÙƒØ±ÙˆÙ…ÙˆØ³ÙˆÙ….",a:["Half|Ù†ØµÙ Ø§Ù„Ø¹Ø¯Ø¯","Double|Ø¶Ø¹Ù Ø§Ù„Ø¹Ø¯Ø¯","Same|Ù†ÙØ³ Ø§Ù„Ø¹Ø¯Ø¯","Triple|Ø«Ù„Ø§Ø«Ø© Ø£Ø¶Ø¹Ø§Ù"],c:0},
      {q:"Which part of brain controls balance?",ar:"Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø¯Ù…Ø§Øº ÙŠØªØ­ÙƒÙ… Ø¨Ø§Ù„ØªÙˆØ§Ø²Ù†ØŸ",a:["Cerebellum|Ø§Ù„Ù…Ø®ÙŠØ®","Cerebrum|Ø§Ù„Ù…Ø®","Brain stem|Ø¬Ø°Ø¹ Ø§Ù„Ø¯Ù…Ø§Øº","Hypothalamus|Ø§Ù„Ù…Ù‡Ø§Ø¯"],c:0},
      {q:"ATP stands for:",ar:"ATP Ø§Ø®ØªØµØ§Ø± Ù„Ù€:",a:["Adenosine Triphosphate","Amino Tri Phosphate","Acid Tri Protein","Active Transport Protein"],c:0},
      {q:"Endothermic reaction:",ar:"Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø§Øµ Ù„Ù„Ø­Ø±Ø§Ø±Ø©:",a:["Absorbs heat|ÙŠÙ…ØªØµ Ø§Ù„Ø­Ø±Ø§Ø±Ø©","Releases heat|ÙŠØ·Ù„Ù‚ Ø§Ù„Ø­Ø±Ø§Ø±Ø©","No energy change","Releases light"],c:0},
      {q:"Photosynthesis light reaction produces:",ar:"Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ ÙÙŠ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¶ÙˆØ¦ÙŠ ÙŠÙ†ØªØ¬:",a:["ATP & NADPH","Glucose","COâ‚‚","Starch"],c:0},
      {q:"A mutation is a change in:",ar:"Ø§Ù„Ø·ÙØ±Ø© Ù‡ÙŠ ØªØºÙŠÙŠØ± ÙÙŠ:",a:["DNA sequence|ØªØ³Ù„Ø³Ù„ DNA","Cell shape|Ø´ÙƒÙ„ Ø§Ù„Ø®Ù„ÙŠØ©","Cell size|Ø­Ø¬Ù… Ø§Ù„Ø®Ù„ÙŠØ©","Protein amount|ÙƒÙ…ÙŠØ© Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ†"],c:0},
      {q:"Which blood cells fight infection?",ar:"Ø£ÙŠ Ø®Ù„Ø§ÙŠØ§ Ø¯Ù… ØªØ­Ø§Ø±Ø¨ Ø§Ù„Ø¹Ø¯ÙˆÙ‰ØŸ",a:["White blood cells|ÙƒØ±ÙŠØ§Øª Ø§Ù„Ø¯Ù… Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡","Red blood cells|ÙƒØ±ÙŠØ§Øª Ø§Ù„Ø¯Ù… Ø§Ù„Ø­Ù…Ø±Ø§Ø¡","Platelets|Ø§Ù„ØµÙØ§Ø¦Ø­ Ø§Ù„Ø¯Ù…ÙˆÙŠØ©","Plasma cells|Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø¨Ù„Ø§Ø²Ù…Ø§"],c:0},
    ]
  },
  physics:{
    easy:[
      {q:"Speed = Distance Ã· ___",ar:"Ø§Ù„Ø³Ø±Ø¹Ø© = Ø§Ù„Ù…Ø³Ø§ÙØ© Ã· ___",a:["Time|Ø§Ù„Ø²Ù…Ù†","Mass|Ø§Ù„ÙƒØªÙ„Ø©","Volume|Ø§Ù„Ø­Ø¬Ù…","Force|Ø§Ù„Ù‚ÙˆØ©"],c:0},
      {q:"Unit of force:",ar:"ÙˆØ­Ø¯Ø© Ø§Ù„Ù‚ÙˆØ©:",a:["Newton|Ù†ÙŠÙˆØªÙ†","Joule|Ø¬ÙˆÙ„","Watt|ÙˆØ§Ø·","Pascal|Ø¨Ø§Ø³ÙƒØ§Ù„"],c:0},
      {q:"Light speed â‰ˆ ___ km/s",ar:"Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ â‰ˆ ___ ÙƒÙ…/Ø«",a:["300,000","3,000","3,000,000","30,000"],c:0},
      {q:"Gravity on Earth â‰ˆ ___ m/sÂ²",ar:"Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ© Ø§Ù„Ø£Ø±Ø¶ÙŠØ© â‰ˆ ___ Ù…/Ø«Â²",a:["9.8","8.9","10.8","6.7"],c:0},
      {q:"Newton's ___ law: object at rest stays at rest",ar:"Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ___ Ù„Ù†ÙŠÙˆØªÙ†: Ø§Ù„Ø¬Ø³Ù… Ø§Ù„Ø³Ø§ÙƒÙ† ÙŠØ¨Ù‚Ù‰ Ø³Ø§ÙƒÙ†Ø§Ù‹",a:["1st|Ø§Ù„Ø£ÙˆÙ„","2nd|Ø§Ù„Ø«Ø§Ù†ÙŠ","3rd|Ø§Ù„Ø«Ø§Ù„Ø«","4th|Ø§Ù„Ø±Ø§Ø¨Ø¹"],c:0},
      {q:"Which is faster: light or sound?",ar:"Ø£ÙŠÙ‡Ù…Ø§ Ø£Ø³Ø±Ø¹: Ø§Ù„Ø¶ÙˆØ¡ Ø£Ù… Ø§Ù„ØµÙˆØªØŸ",a:["Light|Ø§Ù„Ø¶ÙˆØ¡","Sound|Ø§Ù„ØµÙˆØª","Equal|Ù…ØªØ³Ø§ÙˆÙ","Depends|ÙŠØ¹ØªÙ…Ø¯"],c:0},
      {q:"Rubber is an:",ar:"Ø§Ù„Ù…Ø·Ø§Ø· Ù‡Ùˆ:",a:["Insulator|Ø¹Ø§Ø²Ù„","Conductor|Ù…ÙˆØµÙ„","Semi-conductor|Ø´Ø¨Ù‡ Ù…ÙˆØµÙ„","Magnet|Ù…ØºÙ†Ø§Ø·ÙŠØ³"],c:0},
      {q:"Freezing point of water is ___ Â°C",ar:"Ù†Ù‚Ø·Ø© ØªØ¬Ù…Ø¯ Ø§Ù„Ù…Ø§Ø¡ Ù‡ÙŠ ___ Â°Ù…",a:["0","-10","10","100"],c:0},
      {q:"Which travels in straight lines?",ar:"Ù…Ø§Ø°Ø§ ÙŠØ³ÙŠØ± ÙÙŠ Ø®Ø·ÙˆØ· Ù…Ø³ØªÙ‚ÙŠÙ…Ø©ØŸ",a:["Light|Ø§Ù„Ø¶ÙˆØ¡","Sound|Ø§Ù„ØµÙˆØª","Wind|Ø§Ù„Ø±ÙŠØ­","Water|Ø§Ù„Ù…Ø§Ø¡"],c:0},
      {q:"Unit of energy is:",ar:"ÙˆØ­Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ù‡ÙŠ:",a:["Joule|Ø¬ÙˆÙ„","Newton|Ù†ÙŠÙˆØªÙ†","Watt|ÙˆØ§Ø·","Ampere|Ø£Ù…Ø¨ÙŠØ±"],c:0},
      {q:"Magnets have ___ poles.",ar:"Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ Ù„Ù‡ ___ Ù‚Ø·Ø¨Ø§Ù†.",a:["2|Ø§Ø«Ù†Ø§Ù†","1|ÙˆØ§Ø­Ø¯","3|Ø«Ù„Ø§Ø«Ø©","4|Ø£Ø±Ø¨Ø¹Ø©"],c:0},
      {q:"A mirror reflects ___.",ar:"Ø§Ù„Ù…Ø±Ø¢Ø© ØªØ¹ÙƒØ³ ___.",a:["Light|Ø§Ù„Ø¶ÙˆØ¡","Sound|Ø§Ù„ØµÙˆØª","Heat only|Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙÙ‚Ø·","Water|Ø§Ù„Ù…Ø§Ø¡"],c:0},
      {q:"Unit of electric current:",ar:"ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ:",a:["Ampere|Ø£Ù…Ø¨ÙŠØ±","Volt|ÙÙˆÙ„Øª","Ohm|Ø£ÙˆÙ…","Watt|ÙˆØ§Ø·"],c:0},
      {q:"Objects fall due to:",ar:"ØªØ³Ù‚Ø· Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø¨Ø³Ø¨Ø¨:",a:["Gravity|Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©","Magnetism|Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ©","Friction|Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ","Air pressure|Ø¶ØºØ· Ø§Ù„Ù‡ÙˆØ§Ø¡"],c:0},
      {q:"Heat travels through metal by:",ar:"ØªÙ†ØªÙ‚Ù„ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø¹Ø¯Ù† Ø¹Ù† Ø·Ø±ÙŠÙ‚:",a:["Conduction|Ø§Ù„ØªÙˆØµÙŠÙ„","Convection|Ø§Ù„Ø­Ù…Ù„","Radiation|Ø§Ù„Ø¥Ø´Ø¹Ø§Ø¹","Reflection|Ø§Ù„Ø§Ù†Ø¹ÙƒØ§Ø³"],c:0},
      {q:"Which colour bends most in a prism?",ar:"Ø£ÙŠ Ù„ÙˆÙ† ÙŠÙ†Ø­Ø±Ù Ø£ÙƒØ«Ø± ÙÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±ØŸ",a:["Violet|Ø¨Ù†ÙØ³Ø¬ÙŠ","Red|Ø£Ø­Ù…Ø±","Green|Ø£Ø®Ø¶Ø±","Yellow|Ø£ØµÙØ±"],c:0},
      {q:"Friction is a force that ___ motion.",ar:"Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ Ù‚ÙˆØ© ØªÙØ¨Ø·Ø¦ ___.",a:["Opposes|ØªØ¹Ø§Ø±Ø¶","Increases|ØªØ²ÙŠØ¯","Starts|ØªØ¨Ø¯Ø£","Stops|ØªÙ…Ù†Ø¹"],c:0},
      {q:"Which state of matter has no fixed shape?",ar:"Ø£ÙŠ Ø­Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…Ø§Ø¯Ø© Ù„ÙŠØ³ Ù„Ù‡Ø§ Ø´ÙƒÙ„ Ø«Ø§Ø¨ØªØŸ",a:["Liquid & Gas|Ø³Ø§Ø¦Ù„ ÙˆØºØ§Ø²","Solid|ØµÙ„Ø¨","Liquid only|Ø³Ø§Ø¦Ù„ ÙÙ‚Ø·","Gas only|ØºØ§Ø² ÙÙ‚Ø·"],c:0},
      {q:"Boiling creates ___ from liquid.",ar:"Ø§Ù„ØºÙ„ÙŠØ§Ù† ÙŠØ­ÙˆÙ‘Ù„ Ø§Ù„Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ ___.",a:["Gas|ØºØ§Ø²","Solid|ØµÙ„Ø¨","Plasma|Ø¨Ù„Ø§Ø²Ù…Ø§","Ice|Ø¬Ù„ÙŠØ¯"],c:0},
      {q:"The unit of voltage is:",ar:"ÙˆØ­Ø¯Ø© Ø§Ù„Ø¬Ù‡Ø¯ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ Ù‡ÙŠ:",a:["Volt|ÙÙˆÙ„Øª","Ampere|Ø£Ù…Ø¨ÙŠØ±","Ohm|Ø£ÙˆÙ…","Watt|ÙˆØ§Ø·"],c:0},
    ],
    medium:[
      {q:"F = mÃ—a. m=5kg, a=4m/sÂ². F=?",ar:"Ù‚ = ÙƒÃ—Ø¹. Ùƒ=5ÙƒØºØŒ Ø¹=4Ù…/Ø«Â². Ù‚=ØŸ",a:["20 N","9 N","1.25 N","45 N"],c:0},
      {q:"P=100W, t=5s. Energy=?",ar:"Ù‚=100ÙˆØ§Ø·ØŒ Ø²=5Ø«. Ø§Ù„Ø·Ø§Ù‚Ø©=ØŸ",a:["500 J","20 J","2000 J","105 J"],c:0},
      {q:"Pressure = FÃ·A. F=50N, A=2mÂ². P=?",ar:"Ø§Ù„Ø¶ØºØ· = Ù‚Ã·Ù…. Ù‚=50Ù†ØŒ Ù…=2Ù…Â². Ø§Ù„Ø¶ØºØ·=ØŸ",a:["25 Pa","100 Pa","52 Pa","48 Pa"],c:0},
      {q:"Falling ball: what increases?",ar:"ÙƒØ±Ø© ØªØ³Ù‚Ø·: Ù…Ø§Ø°Ø§ ÙŠØ²Ø¯Ø§Ø¯ØŸ",a:["Kinetic energy|Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø±ÙƒÙŠØ©","Potential energy|Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù†Ø©","Mass|Ø§Ù„ÙƒØªÙ„Ø©","Volume|Ø§Ù„Ø­Ø¬Ù…"],c:0},
      {q:"Sound frequency measured in:",ar:"ØªØ±Ø¯Ø¯ Ø§Ù„ØµÙˆØª ÙŠÙÙ‚Ø§Ø³ Ø¨Ù€:",a:["Hz|Ù‡Ø±ØªØ²","dB|Ø¯ÙŠØ³ÙŠØ¨Ù„","m/s","Watt|ÙˆØ§Ø·"],c:0},
      {q:"Converging lens type:",ar:"Ø§Ù„Ø¹Ø¯Ø³Ø© Ø§Ù„ØªÙŠ ØªØ¬Ù…Ø¹ Ø§Ù„Ø¶ÙˆØ¡:",a:["Convex|Ù…Ø­Ø¯Ø¨Ø©","Concave|Ù…Ù‚Ø¹Ø±Ø©","Flat|Ù…Ø³Ø·Ø­Ø©","Prism|Ù…Ù†Ø´ÙˆØ±"],c:0},
      {q:"An object moving 100m in 20s. Speed?",ar:"Ø¬Ø³Ù… ÙŠØªØ­Ø±Ùƒ 100Ù… ÙÙŠ 20Ø«. Ø§Ù„Ø³Ø±Ø¹Ø©ØŸ",a:["5 m/s","20 m/s","2000 m/s","0.2 m/s"],c:0},
      {q:"When temperature rises, resistance in metal:",ar:"Ø¹Ù†Ø¯ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­Ø±Ø§Ø±Ø©ØŒ Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ù…Ø¹Ø¯Ù†:",a:["Increases|ØªØ²Ø¯Ø§Ø¯","Decreases|ØªÙ†Ù‚Øµ","Stays same|ØªØ¨Ù‚Ù‰","Disappears|ØªØ®ØªÙÙŠ"],c:0},
      {q:"Car: 0â†’60 km/h in 10s. Acceleration?",ar:"Ø³ÙŠØ§Ø±Ø©: 0â†’60ÙƒÙ…/Ø³Ø§Ø¹Ø© ÙÙŠ 10Ø«. Ø§Ù„ØªØ³Ø§Ø±Ø¹ØŸ",a:["6 km/h/s","10 km/h/s","600 km/h/s","0.6 km/h/s"],c:0},
      {q:"Parallel resistors R1=6Î©, R2=3Î©. Total?",ar:"Ù…Ù‚Ø§ÙˆÙ…ØªØ§Ù† Ø¨Ø§Ù„ØªÙˆØ§Ø²ÙŠ: 6Ø£ÙˆÙ… Ùˆ3Ø£ÙˆÙ…. Ø§Ù„ÙƒÙ„ÙŠØŸ",a:["2Î©","9Î©","18Î©","4.5Î©"],c:0},
      {q:"Which colour has highest frequency?",ar:"Ø£ÙŠ Ù„ÙˆÙ† Ù„Ù‡ Ø£Ø¹Ù„Ù‰ ØªØ±Ø¯Ø¯ ÙÙŠ Ø§Ù„Ø¶ÙˆØ¡ Ø§Ù„Ù…Ø±Ø¦ÙŠØŸ",a:["Violet|Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ","Red|Ø§Ù„Ø£Ø­Ù…Ø±","Green|Ø§Ù„Ø£Ø®Ø¶Ø±","Yellow|Ø§Ù„Ø£ØµÙØ±"],c:0},
      {q:"60W bulb Ã— 2 hours. Energy used?",ar:"Ù…ØµØ¨Ø§Ø­ 60ÙˆØ§Ø· Ã— Ø³Ø§Ø¹ØªØ§Ù†. Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ù„ÙƒØ©ØŸ",a:["120 Wh","30 Wh","62 Wh","240 Wh"],c:0},
      {q:"Density: m=200g, v=40cmÂ³. d=?",ar:"Ø§Ù„ÙƒØ«Ø§ÙØ©: Ùƒ=200ØºØŒ Ø­=40Ø³Ù…Â³. Ø§Ù„ÙƒØ«Ø§ÙØ©=ØŸ",a:["5 g/cmÂ³","8 g/cmÂ³","160 g/cmÂ³","0.2 g/cmÂ³"],c:0},
      {q:"A wave with freq=50Hz, period=?",ar:"Ù…ÙˆØ¬Ø© ØªØ±Ø¯Ø¯Ù‡Ø§ 50Ù‡Ø±ØªØ²ØŒ Ø§Ù„Ø¯ÙˆØ±=ØŸ",a:["0.02 s","50 s","2 s","0.5 s"],c:0},
      {q:"Mechanical advantage of lever = ?",ar:"Ø§Ù„Ù…Ø²ÙŠØ© Ø§Ù„Ø¢Ù„ÙŠØ© Ù„Ù„Ø±Ø§ÙØ¹Ø© = ØŸ",a:["Effort arm Ã· Load arm","Load Ã· Effort","Force Ã— distance","Mass Ã— speed"],c:0},
      {q:"Weight of 5kg object on Earth? (g=10)",ar:"ÙˆØ²Ù† Ø¬Ø³Ù… ÙƒØªÙ„ØªÙ‡ 5ÙƒØº Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ØŸ (g=10)",a:["50 N","5 N","500 N","0.5 N"],c:0},
      {q:"Two like poles of magnets:",ar:"Ù‚Ø·Ø¨Ø§Ù† Ù…ØªÙ…Ø§Ø«Ù„Ø§Ù† Ù…Ù† Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³:",a:["Repel|ÙŠØªÙ†Ø§ÙØ±Ø§Ù†","Attract|ÙŠØªØ¬Ø§Ø°Ø¨Ø§Ù†","No force","Spin"],c:0},
    ],
    hard:[
      {q:"KE = Â½mvÂ². m=2kg, v=4m/s. KE=?",ar:"Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø±ÙƒÙŠØ© = Â½ÙƒÂ·Ø¹Â². Ùƒ=2ÙƒØºØŒ Ø¹=4Ù…/Ø«. KE=ØŸ",a:["16 J","8 J","32 J","4 J"],c:0},
      {q:"Ohm's Law: V=12V, R=4Î©. Current=?",ar:"Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…: Ù=12ÙÙˆÙ„ØªØŒ Ù‚=4Ø£ÙˆÙ…. Ø§Ù„ØªÙŠØ§Ø±=ØŸ",a:["3 A","8 A","48 A","16 A"],c:0},
      {q:"Celsius = Fahrenheit at temperature:",ar:"Ø¯Ø±Ø¬Ø© ØªØªØ³Ø§ÙˆÙ‰ ÙÙŠÙ‡Ø§ Ù…Ø¦ÙˆÙŠØ© ÙˆÙÙ‡Ø±Ù†Ù‡Ø§ÙŠØª:",a:["-40Â°","0Â°","100Â°","32Â°"],c:0},
      {q:"Work = FÃ—d. F=10N, d=5m. Work=?",ar:"Ø§Ù„Ø´ØºÙ„ = Ù‚Ã—Ù…. Ù‚=10Ù†ØŒ Ù…=5Ù…. Ø§Ù„Ø´ØºÙ„=ØŸ",a:["50 J","2 J","15 J","55 J"],c:0},
      {q:"Momentum = mÃ—v. m=3kg, v=6m/s. p=?",ar:"Ø§Ù„Ø²Ø®Ù… = ÙƒÃ—Ø³. Ùƒ=3ÙƒØºØŒ Ø³=6Ù…/Ø«. Ø§Ù„Ø²Ø®Ù…=ØŸ",a:["18 kgÂ·m/s","9 kgÂ·m/s","2 kgÂ·m/s","36 kgÂ·m/s"],c:0},
      {q:"Series circuit: R1=4Î©, R2=6Î©. Total R=?",ar:"Ø¯Ø§Ø¦Ø±Ø© ØªØ³Ù„Ø³Ù„ÙŠØ©: Ù…1=4Ø£ÙˆÙ…ØŒ Ù…2=6Ø£ÙˆÙ…. Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„ÙƒÙ„ÙŠØ©ØŸ",a:["10Î©","2.4Î©","24Î©","1Î©"],c:0},
      {q:"PE = mgh. m=2kg, h=10m, g=10. PE=?",ar:"Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒØ§Ù…Ù†Ø© = ÙƒÂ·Ø¹Â·Ù‡. Ùƒ=2ÙƒØºØŒ Ù‡=10Ù…ØŒ Ø¹=10. Ø§Ù„Ø·Ø§Ù‚Ø©=ØŸ",a:["200 J","20 J","100 J","2000 J"],c:0},
      {q:"Wave speed = frequency Ã— ___",ar:"Ø³Ø±Ø¹Ø© Ø§Ù„Ù…ÙˆØ¬Ø© = Ø§Ù„ØªØ±Ø¯Ø¯ Ã— ___",a:["Wavelength|Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¬ÙŠ","Amplitude|Ø§Ù„Ø³Ø¹Ø©","Period|Ø§Ù„Ø¯ÙˆØ±","Energy|Ø§Ù„Ø·Ø§Ù‚Ø©"],c:0},
      {q:"Transformer: V1=220V, N1=100, N2=50. V2=?",ar:"Ù…Ø­ÙˆÙ„: Ù1=220ÙÙˆÙ„ØªØŒ Ù„1=100ØŒ Ù„2=50. Ù2=ØŸ",a:["110V","440V","55V","880V"],c:0},
      {q:"Power = VÃ—I. V=12V, I=3A. Power=?",ar:"Ø§Ù„Ù‚Ø¯Ø±Ø© = ÙÃ—Øª. Ù=12ÙÙˆÙ„ØªØŒ Øª=3Ø£Ù…Ø¨ÙŠØ±. Ø§Ù„Ù‚Ø¯Ø±Ø©=ØŸ",a:["36 W","4 W","15 W","9 W"],c:0},
      {q:"Object dropped from rest after 3s, speed? (g=10)",ar:"Ø¬Ø³Ù… Ø³Ù‚Ø· Ù…Ù† Ø§Ù„Ø³ÙƒÙˆÙ† Ø¨Ø¹Ø¯ 3Ø«ØŒ Ø§Ù„Ø³Ø±Ø¹Ø©ØŸ (g=10)",a:["30 m/s","3 m/s","10 m/s","90 m/s"],c:0},
      {q:"Efficiency = useful output Ã· total input Ã— 100. Input=500J, output=400J. Efficiency=?",ar:"Ø§Ù„ÙƒÙØ§Ø¡Ø© = Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ÙÙŠØ¯Ø© Ã· Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒÙ„ÙŠØ© Ã— 100. ÙªEfficiency=ØŸ (400/500)",a:["80%","60%","40%","20%"],c:0},
      {q:"Refraction occurs when light passes between:",ar:"Ø§Ù„Ø§Ù†ÙƒØ³Ø§Ø± ÙŠØ­Ø¯Ø« Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ…Ø± Ø§Ù„Ø¶ÙˆØ¡ Ø¨ÙŠÙ†:",a:["Two different media|ÙˆØ³Ø·ÙŠÙ† Ù…Ø®ØªÙ„ÙÙŠÙ†","Two mirrors|Ù…Ø±Ø¢ØªÙŠÙ†","Two lenses","Vacuum & vacuum"],c:0},
    ]
  }
};

function getQ(subj, diff){
  var pool = QDB[subj][diff];
  var raw = pool[Math.floor(Math.random()*pool.length)];
  var q = (LANG==='ar' && raw.ar) ? raw.ar : raw.q;
  var answers = raw.a.map(function(ans){
    var parts = ans.split('|');
    return LANG==='ar' && parts.length>1 ? parts[1] : parts[0];
  });
  return {q:q, a:answers, c:raw.c};
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CANVAS SETUP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var cv = document.getElementById('gc');
var ctx = cv.getContext('2d');
var W, H, CX, GY;
var TS = 80; // tower size

function resize(){
  W = cv.width = window.innerWidth;
  H = cv.height = window.innerHeight;
  CX = W/2;
  GY = H - 160;
}
window.addEventListener('resize', resize);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GAME STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var G = {};
var COSTS = {archer:10, upgrade:6, wall:8, sniper:14};
var REWARDS = {easy:1, medium:2, hard:3};

function initState(){
  G = {
    coins:10, wave:1, invaded:0,
    killed:0, questionsOk:0,
    paused:false, over:false,
    gameTime:0,
    archers:[{lvl:1, type:'archer', angle:0, shootTimer:0}],
    walls:[], zombies:[], arrows:[], particles:[], floats:[],
    trees:[],
    waveActive:false, toSpawn:0, spawned:0, spawnTimer:0, spawnInterval:2,
    waveDelay:1,
  };
  INPUT.selectedIdx = -1;
  INPUT.cursorX = -9999; INPUT.cursorY = -9999;
  buildTrees();
  updateHUD();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FOREST TREES (background)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildTrees(){
  G.trees = [];
  var count = Math.floor(W/60)+5;
  for(var i=0;i<count;i++){
    G.trees.push({
      x: Math.random()*W,
      y: GY,
      h: 60 + Math.random()*80,
      w: 30 + Math.random()*30,
      variant: Math.floor(Math.random()*3), // 0=pine, 1=round, 2=tall
      shade: Math.random()*0.3,
    });
  }
  // Also some in background (smaller)
  for(var j=0;j<20;j++){
    G.trees.push({
      x: Math.random()*W,
      y: GY - 50 - Math.random()*60,
      h: 30 + Math.random()*40,
      w: 15 + Math.random()*20,
      variant: Math.floor(Math.random()*3),
      shade: Math.random()*0.3 + 0.2,
    });
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GAME LOOP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var RAF = null, prevT = 0;
function loop(ts){
  var dt = Math.min((ts - prevT)/1000, 0.05);
  prevT = ts;
  if(!G.paused && !G.over) update(dt);
  render();
  RAF = requestAnimationFrame(loop);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UPDATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function update(dt){
  G.gameTime += dt;

  // Wave management
  if(!G.waveActive){
    G.waveDelay -= dt;
    if(G.waveDelay <= 0) startWave();
  }

  // Spawn
  if(G.waveActive && G.spawned < G.toSpawn){
    G.spawnTimer -= dt;
    if(G.spawnTimer <= 0){ spawnZombie(); G.spawnTimer = G.spawnInterval; }
  }

  // Wave end
  if(G.waveActive && G.spawned >= G.toSpawn && G.zombies.length === 0){
    G.waveActive = false;
    G.wave++;
    G.waveDelay = 3;
    showWaveAnn();
    updateHUD();
  }

  // Update arrows
  for(var i = G.arrows.length-1; i >= 0; i--){
    var ar = G.arrows[i];
    ar.x += Math.cos(ar.angle)*ar.spd*dt;
    ar.y += Math.sin(ar.angle)*ar.spd*dt;
    ar.life -= dt;
    if(ar.life <= 0){ G.arrows.splice(i,1); continue; }
    // hit zombie
    var hit = false;
    for(var j=0; j<G.zombies.length; j++){
      var z = G.zombies[j];
      var dx = z.x-ar.x, dy = z.y-ar.y;
      if(dx*dx+dy*dy < (z.r+5)*(z.r+5)){
        z.hp -= ar.dmg;
        spawnParticles(ar.x, ar.y, '#ff9966', 5);
        G.arrows.splice(i,1); hit=true; break;
      }
    }
  }

  // Update zombies
  for(var i = G.zombies.length-1; i >= 0; i--){
    var z = G.zombies[i];
    if(z.hp <= 0){
      spawnParticles(z.x, z.y, z.color, 10);
      G.killed++;
      G.zombies.splice(i,1);
      updateHUD(); continue;
    }
    updateZombie(z, dt);
    if(z.reached){
      G.zombies.splice(i,1);
      G.invaded++;
      updateHUD();
      if(G.invaded >= 10){ endGame(); return; }
    }
  }

  // Archers shoot
  G.archers.forEach(function(a){ updateArcher(a, dt); });

  // Walls take zombie damage
  G.zombies.forEach(function(z){
    z.blocked = false;
    G.walls.forEach(function(w){
      if(w.hp <= 0) return;
      var dx = Math.abs(z.x - w.x), dy = Math.abs(z.y - w.y);
      if(dx < w.bw/2+z.r && dy < w.bh/2){
        w.hp -= z.atkDmg*dt;
        z.blocked = true;
      }
    });
  });

  // Particles
  for(var i = G.particles.length-1; i >= 0; i--){
    var p = G.particles[i];
    p.x+=p.vx*dt; p.y+=p.vy*dt; p.vy+=100*dt; p.life-=dt;
    if(p.life<=0) G.particles.splice(i,1);
  }

  // Float texts
  for(var i = G.floats.length-1; i >= 0; i--){
    var f = G.floats[i];
    f.y -= 45*dt; f.life -= dt;
    if(f.life<=0) G.floats.splice(i,1);
  }
}

function updateZombie(z, dt){
  z.animT = (z.animT||0)+dt;
  if(z.blocked) return;
  var dx = CX - z.x, dy = GY - z.y;
  var dist = Math.sqrt(dx*dx+dy*dy);
  if(dist < TS*0.55+z.r){ z.reached=true; return; }
  z.x += (dx/dist)*z.spd*dt;
  z.y += (dy/dist)*z.spd*dt;
}

// â”€â”€â”€ INPUT STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var INPUT = { selectedIdx: -1, cursorX: -9999, cursorY: -9999 };

function toCanvas(px, py){
  var rect = cv.getBoundingClientRect();
  return { x: px - rect.left, y: py - rect.top };
}
function archerHitTest(px, py, idx){
  var pos = getArcherPos(idx);
  var dx = px-pos.x, dy = py-pos.y;
  return dx*dx+dy*dy < 30*30;
}

cv.addEventListener('mousemove', function(e){
  var c = toCanvas(e.clientX, e.clientY);
  INPUT.cursorX = c.x; INPUT.cursorY = c.y;
});
cv.addEventListener('click', function(e){
  if(G.paused||G.over) return;
  var c = toCanvas(e.clientX, e.clientY);
  INPUT.cursorX = c.x; INPUT.cursorY = c.y;
  handleTap(c.x, c.y);
});
cv.addEventListener('touchstart', function(e){
  if(G.paused||G.over) return;
  e.preventDefault();
  var t = e.changedTouches[0];
  var c = toCanvas(t.clientX, t.clientY);
  INPUT.cursorX = c.x; INPUT.cursorY = c.y;
  handleTap(c.x, c.y);
},{passive:false});
cv.addEventListener('touchmove', function(e){
  if(G.paused||G.over) return;
  e.preventDefault();
  var t = e.changedTouches[0];
  var c = toCanvas(t.clientX, t.clientY);
  INPUT.cursorX = c.x; INPUT.cursorY = c.y;
},{passive:false});

function handleTap(px, py){
  // tap on an archer â†’ select/deselect
  for(var i=0; i<G.archers.length; i++){
    if(archerHitTest(px, py, i)){
      INPUT.selectedIdx = (INPUT.selectedIdx===i) ? -1 : i;
      return;
    }
  }
  // tap on canvas with archer selected â†’ set manual direction
  if(INPUT.selectedIdx >= 0 && INPUT.selectedIdx < G.archers.length){
    var a = G.archers[INPUT.selectedIdx];
    var pos = getArcherPos(INPUT.selectedIdx);
    a.manualAngle = Math.atan2(py-pos.y, px-pos.x);
    a.manualAim = true; a.manualTimer = 5;
  }
}
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function updateArcher(a, dt){
  var idx = G.archers.indexOf(a);
  var pos = getArcherPos(idx);

  // Selected archer follows cursor/finger live
  if(INPUT.selectedIdx === idx && INPUT.cursorX > -1000){
    a.angle = Math.atan2(INPUT.cursorY - pos.y, INPUT.cursorX - pos.x);
    a.manualAim = true; a.manualTimer = 0.6;
  }

  // Countdown manual override
  if(a.manualAim){
    a.manualTimer -= dt;
    if(a.manualTimer <= 0){
      a.manualAim = false;
      if(INPUT.selectedIdx === idx) INPUT.selectedIdx = -1;
    } else if(INPUT.selectedIdx !== idx && a.manualAngle !== undefined){
      a.angle = a.manualAngle;
    }
  }

  // Auto-aim when not manually controlled
  if(!a.manualAim){
    var nearest=null, nearD=Infinity;
    G.zombies.forEach(function(z){
      var dx=z.x-pos.x, dy=z.y-pos.y;
      var d=dx*dx+dy*dy;
      if(d<nearD){ nearD=d; nearest=z; }
    });
    if(nearest) a.angle = Math.atan2(nearest.y-pos.y, nearest.x-pos.x);
  }

  // Shoot
  if(G.zombies.length > 0){
    a.shootTimer -= dt;
    if(a.shootTimer <= 0){
      shoot(a, idx);
      var base = a.type==='sniper' ? 2.2 : 1.0;
      a.shootTimer = Math.max(base - a.lvl*0.08, 0.35);
    }
  }
}

function shoot(a, idx){
  var pos = getArcherPos(idx !== undefined ? idx : G.archers.indexOf(a));
  G.arrows.push({
    x: pos.x, y: pos.y,
    angle: a.angle,
    spd: a.type==='sniper' ? 650 : 480,
    dmg: a.type==='sniper' ? 3+a.lvl*2 : 1+a.lvl,
    life: 2.2,
    type: a.type
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WAVE / SPAWN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startWave(){
  G.waveActive = true;
  G.spawned = 0;
  // Start from wave 3 difficulty equivalent: base count boosted, spawn faster
  G.toSpawn = 6 + G.wave*3;
  G.spawnInterval = Math.max(0.5, 2.2 - G.wave*0.08);
  G.spawnTimer = 0.5;
}

var ZOMBIE_TYPES = {
  normal: {hpM:3,  spd:48,  r:16, color:'#5cb85c', reward:1, atkDmg:5},
  fast:   {hpM:2,  spd:95,  r:13, color:'#f39c12', reward:1, atkDmg:3},
  armored:{hpM:7,  spd:32,  r:19, color:'#7f8c8d', reward:2, atkDmg:10},
  giant:  {hpM:13, spd:24,  r:27, color:'#e74c3c', reward:3, atkDmg:18},
  boss:   {hpM:25, spd:26,  r:33, color:'#9b59b6', reward:5, atkDmg:25},
};

function spawnZombie(){
  G.spawned++;
  var isBoss = (G.wave%5===0) && (G.spawned===G.toSpawn);
  // Level floor starts at 3 (equivalent to old wave 5+)
  var lvl = Math.min(10, 1 + Math.ceil(G.wave/2) + Math.floor(Math.random()*2));

  var typeKey = 'normal';
  if(isBoss){ typeKey='boss'; }
  else if(G.wave>=6 && Math.random()<0.1){ typeKey='giant'; }
  else if(G.wave>=4 && Math.random()<0.18){ typeKey='armored'; }
  else if(G.wave>=2 && Math.random()<0.22){ typeKey='fast'; }

  var cfg = ZOMBIE_TYPES[typeKey];

  // Spawn from edges
  var side = Math.floor(Math.random()*4);
  var x, y;
  if(side===0){ x=Math.random()*W; y=-50; }
  else if(side===1){ x=W+50; y=Math.random()*H; }
  else if(side===2){ x=Math.random()*W; y=H+50; }
  else{ x=-50; y=Math.random()*H; }

  var hp = cfg.hpM * lvl;
  G.zombies.push({
    x:x, y:y, hp:hp, maxHp:hp,
    spd:cfg.spd + lvl*2, r:cfg.r, color:cfg.color,
    reward:cfg.reward, atkDmg:cfg.atkDmg,
    type:typeKey, lvl:lvl,
    reached:false, blocked:false, animT:0
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function render(){
  // Update selection hint
  var hint = document.getElementById('archerHint');
  if(INPUT.selectedIdx >= 0 && !G.over){
    var a = G.archers[INPUT.selectedIdx];
    var emoji = a.type==='sniper'?'ğŸ¯':'ğŸ¹';
    hint.textContent = emoji + ' ' + (LANG==='ar' ? 'Ø±Ø§Ù…Ù Ù…Ø­Ø¯Ø¯ â€” Ø­Ø±Ù‘Ùƒ Ø§Ù„Ø¥ØµØ¨Ø¹/Ø§Ù„Ù…Ø§ÙˆØ³ Ù„ØªÙˆØ¬ÙŠÙ‡Ù‡' : 'Archer selected â€” move cursor/finger to aim');
    hint.style.display = 'block';
  } else {
    hint.textContent = LANG==='ar' ? 'ğŸ‘† Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø±Ø§Ù…Ù Ù„ØªÙˆØ¬ÙŠÙ‡Ù‡' : 'ğŸ‘† Tap an archer to control it';
    hint.style.display = G.zombies.length > 0 ? 'block' : 'none';
  }
  // Sky (forest dawn/dusk)
  var sky = ctx.createLinearGradient(0,0,0,H);
  sky.addColorStop(0,'#0a1a0a');
  sky.addColorStop(0.4,'#1a3d1a');
  sky.addColorStop(1,'#2d5a1b');
  ctx.fillStyle = sky;
  ctx.fillRect(0,0,W,H);

  drawMoon();
  drawForestBackground();
  drawGround();
  drawForestForeground();
  drawWalls();
  drawTower();
  drawZombies();
  drawArrows();
  drawParticles();
  drawFloats();

  // Red vignette when invaded
  if(G.invaded >= 7){
    var vig = ctx.createRadialGradient(CX,GY,50,CX,H/2,Math.max(W,H)*0.7);
    vig.addColorStop(0,'rgba(231,76,60,0)');
    vig.addColorStop(1,'rgba(231,76,60,'+(0.08+Math.sin(G.gameTime*5)*0.04)+')');
    ctx.fillStyle=vig; ctx.fillRect(0,0,W,H);
  }
}

function drawMoon(){
  // Moon / fireflies atmosphere
  ctx.save();
  ctx.fillStyle='rgba(255,255,220,0.85)';
  ctx.shadowColor='rgba(255,255,200,0.6)';
  ctx.shadowBlur=25;
  ctx.beginPath(); ctx.arc(W*0.8, H*0.12, 28, 0, Math.PI*2); ctx.fill();
  ctx.shadowBlur=0;
  // Stars
  ctx.fillStyle='rgba(255,255,255,0.7)';
  for(var i=0;i<50;i++){
    var sx = (Math.sin(i*127.1)*0.5+0.5)*W;
    var sy = (Math.sin(i*311.7)*0.5+0.5)*GY*0.85;
    var sr = Math.sin(i*43.5+G.gameTime*(i%3+0.5))*0.5+1;
    ctx.beginPath(); ctx.arc(sx,sy,sr,0,Math.PI*2); ctx.fill();
  }
  // Fireflies
  for(var i=0;i<12;i++){
    var fx = (Math.sin(G.gameTime*0.7+i*1.3)*0.4+0.5)*W;
    var fy = GY - 20 - (Math.sin(G.gameTime*0.5+i*0.9)*0.3+0.5)*150;
    var alpha = Math.max(0, Math.sin(G.gameTime*2+i*0.8));
    ctx.fillStyle='rgba(180,255,100,'+alpha*0.8+')';
    ctx.shadowColor='rgba(180,255,100,'+alpha+')';
    ctx.shadowBlur=8;
    ctx.beginPath(); ctx.arc(fx,fy,2,0,Math.PI*2); ctx.fill();
  }
  ctx.shadowBlur=0;
  ctx.restore();
}

function drawForestBackground(){
  // Far background trees (darker, smaller)
  G.trees.filter(function(t){return t.y < GY-30;}).forEach(function(t){
    drawTree(t, 0.5+t.shade);
  });
}

function drawForestForeground(){
  // Front trees
  G.trees.filter(function(t){return t.y >= GY-30;}).forEach(function(t){
    drawTree(t, t.shade);
  });
}

function drawTree(t, darkFactor){
  ctx.save();
  var alpha = 0.55 + darkFactor*0.3;
  // Trunk
  var trunkW = t.w*0.18;
  var trunkH = t.h*0.3;
  ctx.fillStyle='rgba(60,35,15,'+alpha+')';
  ctx.fillRect(t.x - trunkW/2, t.y - trunkH, trunkW, trunkH);

  if(t.variant===0){ // Pine
    var layers = 3;
    for(var l=0;l<layers;l++){
      var layerY = t.y - trunkH - l*(t.h*0.25);
      var layerW = t.w*(1 - l*0.25);
      var g2 = 22+Math.floor(darkFactor*30);
      ctx.fillStyle='rgba(10,'+g2+',10,'+alpha+')';
      ctx.beginPath();
      ctx.moveTo(t.x, layerY - t.h*0.35);
      ctx.lineTo(t.x - layerW/2, layerY);
      ctx.lineTo(t.x + layerW/2, layerY);
      ctx.closePath(); ctx.fill();
    }
  } else if(t.variant===1){ // Round
    var g3 = 30+Math.floor(darkFactor*25);
    ctx.fillStyle='rgba(15,'+g3+',15,'+alpha+')';
    ctx.beginPath();
    ctx.arc(t.x, t.y-trunkH-t.h*0.35, t.w*0.45, 0, Math.PI*2);
    ctx.fill();
    ctx.fillStyle='rgba(20,'+(g3+10)+',20,'+alpha*0.7+')';
    ctx.beginPath();
    ctx.arc(t.x-t.w*0.15, t.y-trunkH-t.h*0.25, t.w*0.35, 0, Math.PI*2);
    ctx.fill();
  } else { // Tall thin
    var g4 = 25+Math.floor(darkFactor*20);
    ctx.fillStyle='rgba(8,'+g4+',8,'+alpha+')';
    ctx.beginPath();
    ctx.moveTo(t.x, t.y-trunkH-t.h*0.7);
    ctx.lineTo(t.x - t.w*0.38, t.y-trunkH);
    ctx.lineTo(t.x + t.w*0.38, t.y-trunkH);
    ctx.closePath(); ctx.fill();
  }
  ctx.restore();
}

function drawGround(){
  // Ground gradient
  var gg = ctx.createLinearGradient(0, GY, 0, H);
  gg.addColorStop(0,'#2d5a1b');
  gg.addColorStop(0.3,'#1e3f12');
  gg.addColorStop(1,'#0f2008');
  ctx.fillStyle = gg;
  ctx.fillRect(0, GY, W, H-GY);

  // Grass tuft detail
  ctx.strokeStyle = '#3d6a20';
  ctx.lineWidth = 2;
  for(var i=0; i<W; i+=14){
    ctx.beginPath();
    ctx.moveTo(i+2, GY);
    ctx.lineTo(i+6, GY-7);
    ctx.moveTo(i+8, GY);
    ctx.lineTo(i+12, GY-5);
    ctx.stroke();
  }

  // Path to tower
  ctx.save();
  ctx.globalAlpha = 0.3;
  ctx.fillStyle = '#8b6914';
  ctx.beginPath();
  ctx.ellipse(CX, GY, 60, 15, 0, 0, Math.PI*2);
  ctx.fill();
  ctx.globalAlpha = 1;
  ctx.restore();
}

function drawTower(){
  var tx=CX, ty=GY;

  // Shadow
  ctx.save();
  ctx.globalAlpha=0.35;
  ctx.fillStyle='#000';
  ctx.beginPath(); ctx.ellipse(tx, ty+5, TS*0.65, 13, 0, 0, Math.PI*2); ctx.fill();
  ctx.globalAlpha=1;

  // Base body
  var tg = ctx.createLinearGradient(tx-TS/2,0,tx+TS/2,0);
  tg.addColorStop(0,'#7a5c12');
  tg.addColorStop(0.35,'#c4a35a');
  tg.addColorStop(0.65,'#d4b36a');
  tg.addColorStop(1,'#7a5c12');
  ctx.fillStyle=tg;
  ctx.fillRect(tx-TS/2, ty-TS*1.85, TS, TS*1.85);

  // Battlements
  ctx.fillStyle='#c4a35a';
  for(var i=0;i<5;i++){
    if(i%2===0) ctx.fillRect(tx-TS/2+i*(TS/4.5), ty-TS*2, TS/5.5, TS*0.28);
  }

  // Mossy stones
  ctx.strokeStyle='rgba(0,0,0,0.18)';
  ctx.lineWidth=1;
  for(var row=0;row<5;row++){
    for(var col=0;col<2;col++){
      var offX=(row%2)*TS/4;
      ctx.strokeRect(tx-TS/2+offX+col*TS/2, ty-TS*1.85+row*TS*0.34, TS/2, TS*0.34);
    }
  }
  // Moss patches
  ctx.fillStyle='rgba(40,120,30,0.22)';
  for(var m=0;m<8;m++){
    var mx=tx-TS/2+Math.sin(m*2.3)*TS*0.45;
    var my=ty-TS*0.5-m*TS*0.15;
    ctx.beginPath(); ctx.ellipse(mx,my,6,4,0,0,Math.PI*2); ctx.fill();
  }

  // Glowing window
  ctx.fillStyle='rgba(255,200,80,0.9)';
  ctx.shadowColor='rgba(255,200,80,0.9)';
  ctx.shadowBlur=18;
  ctx.beginPath(); ctx.arc(tx, ty-TS*1.1, TS*0.14, 0, Math.PI*2); ctx.fill();
  ctx.shadowBlur=0;

  // Door arch
  ctx.fillStyle='#4a2e08';
  ctx.beginPath();
  ctx.rect(tx-TS*0.14, ty-TS*0.42, TS*0.28, TS*0.42);
  ctx.fill();
  ctx.beginPath();
  ctx.arc(tx, ty-TS*0.42, TS*0.14, Math.PI, 0);
  ctx.fill();

  // Ivy
  ctx.strokeStyle='rgba(30,140,20,0.4)';
  ctx.lineWidth=2;
  for(var v=0;v<3;v++){
    ctx.beginPath();
    var vx=tx-TS/2+(v+0.5)*TS/3.5;
    ctx.moveTo(vx, ty);
    for(var seg=0;seg<8;seg++){
      ctx.quadraticCurveTo(vx+Math.sin(seg*1.2)*8,ty-seg*TS*0.2-10,vx+Math.sin((seg+1)*1.2)*5,ty-(seg+1)*TS*0.2);
    }
    ctx.stroke();
  }

  // Archers on tower
  G.archers.forEach(function(a, idx){
    var pos = getArcherPos(idx);
    var isSelected = (INPUT.selectedIdx === idx);
    // Selection ring
    if(isSelected){
      ctx.save();
      ctx.strokeStyle = '#ffd700';
      ctx.lineWidth = 3;
      ctx.shadowColor = '#ffd700';
      ctx.shadowBlur = 15;
      ctx.setLineDash([4, 4]);
      ctx.lineDashOffset = -G.gameTime*20;
      ctx.beginPath(); ctx.arc(pos.x, pos.y, 32, 0, Math.PI*2); ctx.stroke();
      ctx.setLineDash([]);
      ctx.shadowBlur = 0;
      // Aim line from archer to cursor
      if(INPUT.cursorX > -1000){
        ctx.strokeStyle = 'rgba(255,215,0,0.35)';
        ctx.lineWidth = 1.5;
        ctx.setLineDash([6, 6]);
        ctx.lineDashOffset = -G.gameTime*30;
        ctx.beginPath(); ctx.moveTo(pos.x, pos.y);
        ctx.lineTo(INPUT.cursorX, INPUT.cursorY);
        ctx.stroke();
        ctx.setLineDash([]);
      }
      ctx.restore();
    }
    drawArcherFig(pos.x, pos.y, a.angle, a.lvl, a.type, isSelected);
  });
  ctx.restore();
}

function getArcherPos(idx){
  var pos = [
    {x:CX, y:GY-TS*1.65},
    {x:CX-TS*0.32, y:GY-TS*0.85},
    {x:CX+TS*0.32, y:GY-TS*0.85},
    {x:CX, y:GY-TS*0.45},
    {x:CX-TS*0.35, y:GY-TS*1.3},
  ];
  return pos[idx % pos.length];
}

function drawArcherFig(x, y, angle, lvl, type, isSelected){
  var sc = 0.9 + lvl*0.06;
  ctx.save();
  ctx.translate(x, y);

  // â”€â”€ glow ring for high-level or selected archers â”€â”€
  if(lvl >= 5 || isSelected){
    ctx.shadowColor = isSelected ? '#ffd700' : (type==='sniper'?'#00d4ff':'#ffd700');
    ctx.shadowBlur = isSelected ? 20 : (12 + lvl*1.5);
  }

  // rotate everything so archer faces the target
  ctx.save();
  ctx.rotate(angle + Math.PI/2); // +90Â° because we draw "up"
  ctx.scale(sc, sc);

  var isSniper = type==='sniper';
  var tunicColor   = isSniper ? '#1a5276' : '#5a3a0a';
  var tunicLight   = isSniper ? '#2e86c1' : '#8b5e1a';
  var skinColor    = '#f5c69a';
  var hairColor    = isSniper ? '#1c1c1c' : '#3d1c00';
  var bowColor     = isSniper ? '#0a2840' : '#6b3a0a';
  var stringColor  = isSniper ? '#80d4ff' : '#f0e0b0';

  // â”€â”€ LEGS (walking bob) â”€â”€
  var legSwing = Math.sin((G.gameTime||0)*8) * 4;
  // left leg
  ctx.fillStyle = tunicColor;
  ctx.beginPath();
  ctx.moveTo(-3, 8);
  ctx.lineTo(-5+legSwing, 18);
  ctx.lineTo(-2+legSwing, 18);
  ctx.lineTo(0, 8);
  ctx.fill();
  // right leg
  ctx.beginPath();
  ctx.moveTo(3, 8);
  ctx.lineTo(5-legSwing, 18);
  ctx.lineTo(2-legSwing, 18);
  ctx.lineTo(0, 8);
  ctx.fill();
  // boots
  ctx.fillStyle = '#2c1a00';
  ctx.beginPath(); ctx.ellipse(-4+legSwing, 18, 4, 2.5, 0, 0, Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.ellipse(4-legSwing, 18, 4, 2.5, 0, 0, Math.PI*2); ctx.fill();

  // â”€â”€ BODY / TUNIC â”€â”€
  var bg = ctx.createLinearGradient(-6,0,6,0);
  bg.addColorStop(0, tunicColor);
  bg.addColorStop(0.5, tunicLight);
  bg.addColorStop(1, tunicColor);
  ctx.fillStyle = bg;
  ctx.beginPath();
  ctx.moveTo(-6, 8);
  ctx.lineTo(-7, -2);
  ctx.lineTo(0, -5);
  ctx.lineTo(7, -2);
  ctx.lineTo(6, 8);
  ctx.closePath();
  ctx.fill();

  // Belt
  ctx.fillStyle = '#2c1a00';
  ctx.fillRect(-7, 4, 14, 3);
  // Belt buckle
  ctx.fillStyle = '#ffd700';
  ctx.fillRect(-2, 4, 4, 3);

  // â”€â”€ QUIVER (on back) â”€â”€
  ctx.fillStyle = '#3d1c00';
  ctx.fillRect(4, -8, 5, 12);
  ctx.fillStyle = '#c4a35a';
  for(var qi=0; qi<3; qi++){
    ctx.fillRect(5+qi*1.2, -10-qi*0.5, 1.2, 5);
  }

  // â”€â”€ DRAW ARM (left, holding bow) â”€â”€
  ctx.fillStyle = skinColor;
  ctx.beginPath();
  ctx.moveTo(-6, -2);
  ctx.quadraticCurveTo(-12, -6, -14, -12);
  ctx.lineTo(-12, -12);
  ctx.quadraticCurveTo(-10, -7, -4, -2);
  ctx.fill();

  // â”€â”€ PULL ARM (right, drawing string) â”€â”€
  ctx.fillStyle = skinColor;
  ctx.beginPath();
  ctx.moveTo(6, -2);
  ctx.quadraticCurveTo(10, -5, 9, -9);
  ctx.lineTo(7, -8);
  ctx.quadraticCurveTo(8, -5, 4, -2);
  ctx.fill();

  // â”€â”€ BOW â”€â”€
  ctx.save();
  ctx.translate(-13, -12);
  // bow arc
  ctx.strokeStyle = bowColor;
  ctx.lineWidth = isSniper ? 3 : 2.5;
  ctx.beginPath();
  ctx.arc(0, 0, 10, -Math.PI*0.65, Math.PI*0.65);
  ctx.stroke();
  // bow string (pulled back)
  ctx.strokeStyle = stringColor;
  ctx.lineWidth = 1;
  ctx.beginPath();
  var topX = 10*Math.cos(-Math.PI*0.65), topY = 10*Math.sin(-Math.PI*0.65);
  var botX = 10*Math.cos(Math.PI*0.65),  botY = 10*Math.sin(Math.PI*0.65);
  ctx.moveTo(topX, topY);
  ctx.lineTo(6, 0); // pulled back
  ctx.lineTo(botX, botY);
  ctx.stroke();
  // nocked arrow
  ctx.strokeStyle = '#c4a35a';
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(topX*0.3, topY*0.3);
  ctx.lineTo(8, 0);
  ctx.stroke();
  // arrowhead
  ctx.fillStyle = '#aaa';
  ctx.beginPath(); ctx.moveTo(8,0); ctx.lineTo(11,-1.5); ctx.lineTo(11,1.5); ctx.fill();
  // feather
  ctx.fillStyle = '#e74c3c';
  ctx.beginPath(); ctx.moveTo(topX*0.3,topY*0.3); ctx.lineTo(topX*0.3-3,-2); ctx.lineTo(topX*0.3-3,2); ctx.fill();
  ctx.restore();

  // â”€â”€ HEAD â”€â”€
  // helmet / hood
  ctx.fillStyle = isSniper ? '#1a3a52' : '#3d1c00';
  ctx.beginPath();
  ctx.arc(0, -10, 7, Math.PI, 0);
  ctx.fill();
  // face
  ctx.fillStyle = skinColor;
  ctx.beginPath();
  ctx.arc(0, -9, 5.5, 0, Math.PI*2);
  ctx.fill();
  // eyes
  ctx.fillStyle = '#1a0a00';
  ctx.beginPath(); ctx.arc(-2, -9.5, 1.2, 0, Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(2, -9.5, 1.2, 0, Math.PI*2); ctx.fill();
  // eye shine
  ctx.fillStyle = 'white';
  ctx.beginPath(); ctx.arc(-1.5, -10, 0.5, 0, Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(2.5, -10, 0.5, 0, Math.PI*2); ctx.fill();
  // sniper scope / headband
  if(isSniper){
    ctx.strokeStyle='#00d4ff'; ctx.lineWidth=1.5;
    ctx.beginPath(); ctx.moveTo(-6,-10); ctx.lineTo(6,-10); ctx.stroke();
    ctx.fillStyle='#00d4ff';
    ctx.beginPath(); ctx.arc(3,-10,2,0,Math.PI*2); ctx.fill();
  } else {
    ctx.fillStyle = '#5a3a0a';
    ctx.fillRect(-6, -12, 12, 3);
    // feather in hat
    ctx.strokeStyle='#e74c3c'; ctx.lineWidth=1.5;
    ctx.beginPath(); ctx.moveTo(4,-12); ctx.quadraticCurveTo(7,-17,5,-20); ctx.stroke();
  }

  // â”€â”€ LEVEL BADGE â”€â”€
  if(lvl > 1){
    ctx.fillStyle='rgba(0,0,0,0.6)';
    ctx.beginPath(); ctx.arc(0, -20, 6, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle='#ffd700';
    ctx.font='bold 7px Fredoka One';
    ctx.textAlign='center'; ctx.textBaseline='middle';
    ctx.fillText('Lv'+lvl, 0, -20);
  }

  ctx.restore(); // unrotate
  ctx.shadowBlur = 0;
  ctx.restore(); // untranslate
}

function drawWalls(){
  G.walls.forEach(function(w){
    if(w.hp<=0) return;
    var r = w.hp/w.maxHp;
    ctx.save();
    ctx.globalAlpha = 0.5+r*0.5;
    // Wall body
    ctx.fillStyle='rgba(90,100,110,'+r+')';
    ctx.strokeStyle='rgba(140,155,170,0.9)';
    ctx.lineWidth=2;
    ctx.fillRect(w.x-w.bw/2, w.y-w.bh/2, w.bw, w.bh);
    ctx.strokeRect(w.x-w.bw/2, w.y-w.bh/2, w.bw, w.bh);
    // Bricks
    ctx.strokeStyle='rgba(60,70,80,0.6)';
    ctx.lineWidth=1;
    for(var rr=0;rr<3;rr++){
      var off=(rr%2)*w.bw*0.25;
      for(var cc=0;cc<2;cc++){
        ctx.strokeRect(w.x-w.bw/2+off+cc*w.bw/2, w.y-w.bh/2+rr*w.bh/3, w.bw/2, w.bh/3);
      }
    }
    // HP bar
    ctx.globalAlpha=1;
    ctx.fillStyle='#333'; ctx.fillRect(w.x-w.bw/2, w.y-w.bh/2-9, w.bw, 5);
    ctx.fillStyle=r>0.5?'#2ecc71':r>0.25?'#f39c12':'#e74c3c';
    ctx.fillRect(w.x-w.bw/2, w.y-w.bh/2-9, w.bw*r, 5);
    ctx.restore();
  });
}

function drawZombies(){
  G.zombies.forEach(function(z){
    var wobble = Math.sin(z.animT*5)*2.5;
    var lean   = Math.sin(z.animT*5)*4; // body leans
    // direction zombie faces (toward tower)
    var dx = CX - z.x, dy = GY - z.y;
    var faceAngle = Math.atan2(dy, dx); // angle toward tower

    ctx.save();
    ctx.translate(z.x, z.y + wobble);

    // â”€â”€ SHADOW â”€â”€
    ctx.fillStyle='rgba(0,0,0,0.3)';
    ctx.beginPath(); ctx.ellipse(0, z.r*0.7+4, z.r*0.75, 5, 0, 0, Math.PI*2); ctx.fill();

    // â”€â”€ rotate entire zombie to face tower â”€â”€
    ctx.rotate(faceAngle - Math.PI/2); // -90Â° so "up" faces target

    // size scale per zombie type
    var sc = z.r / 16;
    ctx.scale(sc, sc);

    // Color palette per type
    var skinMain, skinDark, eyeColor, outlineC;
    if(z.type==='normal'){  skinMain='#4a7c35'; skinDark='#2d4d1e'; eyeColor='#ff3300'; outlineC='rgba(30,60,10,0.6)'; }
    else if(z.type==='fast'){ skinMain='#b8860b'; skinDark='#7a5800'; eyeColor='#ffff00'; outlineC='rgba(100,60,0,0.6)'; }
    else if(z.type==='armored'){ skinMain='#555f6b'; skinDark='#2d3540'; eyeColor='#00ffff'; outlineC='rgba(20,30,40,0.7)'; }
    else if(z.type==='giant'){ skinMain='#8b1a1a'; skinDark='#5a0a0a'; eyeColor='#ff6600'; outlineC='rgba(60,0,0,0.7)'; }
    else { skinMain='#6a2a8a'; skinDark='#3d0a5a'; eyeColor='#ff00ff'; outlineC='rgba(50,0,70,0.8)'; } // boss

    var walkCycle = Math.sin(z.animT*7);

    // â”€â”€ LEGS â”€â”€
    // left leg
    ctx.fillStyle = skinDark;
    ctx.beginPath();
    ctx.moveTo(-5, 10);
    ctx.lineTo(-7+walkCycle*5, 22);
    ctx.lineTo(-3+walkCycle*5, 22);
    ctx.lineTo(-1, 10);
    ctx.fill();
    // right leg
    ctx.beginPath();
    ctx.moveTo(5, 10);
    ctx.lineTo(7-walkCycle*5, 22);
    ctx.lineTo(3-walkCycle*5, 22);
    ctx.lineTo(1, 10);
    ctx.fill();
    // torn pants / rags on legs
    ctx.strokeStyle = outlineC; ctx.lineWidth=1;
    ctx.beginPath(); ctx.moveTo(-6+walkCycle*4,16); ctx.lineTo(-4+walkCycle*4,20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(6-walkCycle*4,16); ctx.lineTo(4-walkCycle*4,20); ctx.stroke();

    // â”€â”€ BODY â”€â”€
    var bodyGrad = ctx.createLinearGradient(-10,-8,10,10);
    bodyGrad.addColorStop(0, skinMain);
    bodyGrad.addColorStop(1, skinDark);
    ctx.fillStyle = bodyGrad;
    // rounded rect body
    ctx.beginPath();
    ctx.moveTo(-8, 10);
    ctx.lineTo(-10, -2);
    ctx.quadraticCurveTo(-10,-8, -4,-10);
    ctx.lineTo(4,-10);
    ctx.quadraticCurveTo(10,-8, 10,-2);
    ctx.lineTo(8, 10);
    ctx.closePath();
    ctx.fill();
    // torn shirt texture
    ctx.strokeStyle = outlineC; ctx.lineWidth=1.5;
    ctx.beginPath(); ctx.moveTo(-8,2); ctx.lineTo(-5,6); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(5,-4); ctx.lineTo(9,0); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(-3,-6); ctx.lineTo(2,-2); ctx.stroke();
    // ribs hint (scary)
    ctx.strokeStyle='rgba(0,0,0,0.25)'; ctx.lineWidth=1;
    for(var rb=0; rb<3; rb++){
      ctx.beginPath(); ctx.moveTo(-6, -6+rb*4); ctx.lineTo(6,-6+rb*4); ctx.stroke();
    }

    // â”€â”€ ARMS (outstretched forward = toward tower) â”€â”€
    // left arm reaching forward
    ctx.fillStyle = skinMain;
    ctx.beginPath();
    ctx.moveTo(-10, -4);
    ctx.quadraticCurveTo(-18, -8, -20, -16);
    ctx.lineTo(-17, -17);
    ctx.quadraticCurveTo(-15, -10, -7, -5);
    ctx.fill();
    // left hand (clawed)
    ctx.fillStyle = skinDark;
    ctx.beginPath(); ctx.arc(-20, -17, 4, 0, Math.PI*2); ctx.fill();
    // claws
    ctx.strokeStyle = '#222'; ctx.lineWidth=1.5;
    for(var cl=0;cl<3;cl++){
      ctx.beginPath();
      ctx.moveTo(-20+cl*2-2, -17);
      ctx.lineTo(-21+cl*2-2, -23);
      ctx.stroke();
    }

    // right arm reaching forward
    ctx.fillStyle = skinMain;
    ctx.beginPath();
    ctx.moveTo(10, -4);
    ctx.quadraticCurveTo(18, -8, 20, -16);
    ctx.lineTo(17, -17);
    ctx.quadraticCurveTo(15, -10, 7, -5);
    ctx.fill();
    // right hand
    ctx.fillStyle = skinDark;
    ctx.beginPath(); ctx.arc(20, -17, 4, 0, Math.PI*2); ctx.fill();
    ctx.strokeStyle = '#222'; ctx.lineWidth=1.5;
    for(var cl=0;cl<3;cl++){
      ctx.beginPath();
      ctx.moveTo(18+cl*2, -17);
      ctx.lineTo(17+cl*2, -23);
      ctx.stroke();
    }

    // â”€â”€ NECK â”€â”€
    ctx.fillStyle = skinMain;
    ctx.fillRect(-4, -13, 8, 5);
    // neck bolt (Frankenstein style)
    if(z.type!=='fast'){
      ctx.fillStyle='#888';
      ctx.beginPath(); ctx.rect(-7,-11,3,4); ctx.fill();
      ctx.beginPath(); ctx.rect(4,-11,3,4); ctx.fill();
    }

    // â”€â”€ HEAD â”€â”€
    var headGrad = ctx.createRadialGradient(-3,-22,0,0,-20,12);
    headGrad.addColorStop(0, skinMain);
    headGrad.addColorStop(1, skinDark);
    ctx.fillStyle = headGrad;
    // lumpy skull shape
    ctx.beginPath();
    ctx.moveTo(-9, -14);
    ctx.quadraticCurveTo(-12, -20, -10, -28);
    ctx.quadraticCurveTo(-6, -34, 0, -33);
    ctx.quadraticCurveTo(7, -34, 10, -28);
    ctx.quadraticCurveTo(12, -20, 9, -14);
    ctx.closePath();
    ctx.fill();
    // skull cracks
    ctx.strokeStyle='rgba(0,0,0,0.35)'; ctx.lineWidth=1;
    ctx.beginPath(); ctx.moveTo(-4,-28); ctx.lineTo(-2,-23); ctx.lineTo(-5,-20); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(3,-30); ctx.lineTo(5,-25); ctx.stroke();

    // â”€â”€ GLOWING EYES â”€â”€
    ctx.shadowColor = eyeColor;
    ctx.shadowBlur = 10;
    ctx.fillStyle = eyeColor;
    ctx.beginPath(); ctx.ellipse(-4, -22, 3, 2.5, -0.2, 0, Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.ellipse(4, -22, 3, 2.5, 0.2, 0, Math.PI*2); ctx.fill();
    ctx.shadowBlur = 0;
    // pupils (black slit)
    ctx.fillStyle='rgba(0,0,0,0.8)';
    ctx.beginPath(); ctx.ellipse(-4,-22,1,2,0,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.ellipse(4,-22,1,2,0,0,Math.PI*2); ctx.fill();

    // â”€â”€ MOUTH (scary jagged) â”€â”€
    ctx.fillStyle='#1a0000';
    ctx.beginPath();
    ctx.moveTo(-6,-15);
    ctx.lineTo(-4,-17); ctx.lineTo(-2,-15);
    ctx.lineTo(0,-17); ctx.lineTo(2,-15);
    ctx.lineTo(4,-17); ctx.lineTo(6,-15);
    ctx.closePath();
    ctx.fill();
    // teeth
    ctx.fillStyle='rgba(230,220,180,0.9)';
    for(var t=0;t<3;t++){
      ctx.beginPath(); ctx.moveTo(-4+t*3,-15); ctx.lineTo(-3+t*3,-17.5); ctx.lineTo(-2+t*3,-15); ctx.fill();
    }

    // â”€â”€ ARMOR PLATE (armored type) â”€â”€
    if(z.type==='armored'){
      ctx.fillStyle='rgba(120,140,160,0.85)';
      ctx.strokeStyle='#9aa8b5'; ctx.lineWidth=1.5;
      ctx.beginPath();
      ctx.moveTo(-9,-2); ctx.lineTo(-11,8); ctx.lineTo(11,8); ctx.lineTo(9,-2); ctx.closePath();
      ctx.fill(); ctx.stroke();
      // rivets
      ctx.fillStyle='#ccd'; [[-7,2],[7,2],[0,6]].forEach(function(p){ ctx.beginPath(); ctx.arc(p[0],p[1],1.5,0,Math.PI*2); ctx.fill(); });
    }

    // â”€â”€ CROWN (boss type) â”€â”€
    if(z.type==='boss'){
      ctx.fillStyle='#ffd700';
      ctx.strokeStyle='#b8860b'; ctx.lineWidth=1.5;
      ctx.beginPath();
      ctx.moveTo(-10,-32); ctx.lineTo(-10,-38); ctx.lineTo(-6,-34);
      ctx.lineTo(0,-40); ctx.lineTo(6,-34); ctx.lineTo(10,-38); ctx.lineTo(10,-32);
      ctx.closePath(); ctx.fill(); ctx.stroke();
      // gems
      ctx.fillStyle='#e74c3c'; ctx.beginPath(); ctx.arc(0,-37,2,0,Math.PI*2); ctx.fill();
      ctx.fillStyle='#3498db'; ctx.beginPath(); ctx.arc(-7,-35,1.5,0,Math.PI*2); ctx.fill();
      ctx.fillStyle='#2ecc71'; ctx.beginPath(); ctx.arc(7,-35,1.5,0,Math.PI*2); ctx.fill();
    }

    // â”€â”€ HP BAR (above head) â”€â”€
    var hpr = z.hp/z.maxHp;
    ctx.fillStyle='rgba(0,0,0,0.6)'; ctx.fillRect(-14,-42,28,5);
    var hpC = hpr>0.6?'#2ecc71':hpr>0.3?'#f39c12':'#e74c3c';
    ctx.fillStyle=hpC; ctx.fillRect(-14,-42,28*hpr,5);
    // level badge
    ctx.fillStyle='rgba(0,0,0,0.75)';
    ctx.beginPath(); ctx.arc(16,-40,7,0,Math.PI*2); ctx.fill();
    ctx.fillStyle='white'; ctx.font='bold 7px Nunito';
    ctx.textAlign='center'; ctx.textBaseline='middle';
    ctx.fillText('L'+z.lvl, 16, -40);

    ctx.restore();
  });
}

function drawArrows(){
  G.arrows.forEach(function(ar){
    ctx.save();
    ctx.translate(ar.x, ar.y);
    ctx.rotate(ar.angle);
    if(ar.type==='sniper'){
      ctx.fillStyle='#3498db';
      ctx.shadowColor='#3498db'; ctx.shadowBlur=8;
      ctx.fillRect(-9,-2,18,4);
    } else {
      ctx.fillStyle='#c4a35a';
      ctx.shadowColor='#ffd700'; ctx.shadowBlur=5;
      ctx.fillRect(-7,-1.5,14,3);
      // Arrow tip
      ctx.fillStyle='#888';
      ctx.beginPath(); ctx.moveTo(7,-3); ctx.lineTo(12,0); ctx.lineTo(7,3); ctx.fill();
    }
    ctx.shadowBlur=0;
    ctx.restore();
  });
}

function drawParticles(){
  G.particles.forEach(function(p){
    ctx.globalAlpha = p.life/p.maxLife;
    ctx.fillStyle = p.color;
    ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
  });
  ctx.globalAlpha=1;
}

function drawFloats(){
  G.floats.forEach(function(f){
    ctx.globalAlpha = Math.min(f.life,1);
    ctx.fillStyle = f.color;
    ctx.font = 'bold 18px "Fredoka One",cursive';
    ctx.textAlign='center'; ctx.textBaseline='middle';
    ctx.shadowColor='rgba(0,0,0,0.8)'; ctx.shadowBlur=4;
    ctx.fillText(f.text, f.x, f.y);
    ctx.shadowBlur=0;
  });
  ctx.globalAlpha=1;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function lighten(hex, amt){
  var r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);
  return 'rgb('+Math.min(255,r+amt)+','+Math.min(255,g+amt)+','+Math.min(255,b+amt)+')';
}

function spawnParticles(x,y,color,n){
  for(var i=0;i<n;i++){
    var a=Math.random()*Math.PI*2, s=50+Math.random()*150;
    G.particles.push({x:x,y:y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,color:color,r:2+Math.random()*4,life:0.6+Math.random()*0.5,maxLife:1.1});
  }
}

function addFloat(x,y,text,color){
  G.floats.push({x:x,y:y,text:text,color:color,life:1.5});
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BUY
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buy(type){
  var cost = COSTS[type];
  if(G.coins < cost){ addFloat(CX, H/2, T('notEnough'), '#ff6b6b'); return; }

  if(type==='archer'){
    if(G.archers.length>=5){ addFloat(CX,H/2,T('maxArch'),'#ff6b6b'); return; }
    G.archers.push({lvl:1,type:'archer',angle:0,shootTimer:0});
    G.coins-=cost;
    addFloat(CX,GY-TS*1.8,T('archAdded'),'#3498db');
  }
  else if(type==='upgrade'){
    var a=G.archers[0];
    if(a.lvl>=10){ addFloat(CX,H/2,T('maxLvl'),'#ff6b6b'); return; }
    a.lvl++;
    G.coins-=cost;
    addFloat(CX,GY-TS*1.8,T('upgraded'),'#9b59b6');
  }
  else if(type==='wall'){
    if(G.walls.length>=4){ addFloat(CX,H/2,T('maxWall'),'#ff6b6b'); return; }
    var wps=[
      {x:CX-115,y:GY-25},{x:CX+115,y:GY-25},
      {x:CX-65,y:GY-25},{x:CX+65,y:GY-25}
    ];
    var wp=wps[G.walls.length];
    G.walls.push({x:wp.x,y:wp.y,bw:28,bh:55,hp:100,maxHp:100});
    G.coins-=cost;
    addFloat(wp.x,wp.y-40,T('wallBuilt'),'#95a5a6');
  }
  else if(type==='sniper'){
    if(G.archers.length>=5){ addFloat(CX,H/2,T('maxArch'),'#ff6b6b'); return; }
    G.archers.push({lvl:1,type:'sniper',angle:0,shootTimer:0});
    G.coins-=cost;
    addFloat(CX,GY-TS*1.8,T('sniperAdded'),'#1abc9c');
  }
  updateHUD();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var QS = {};

function openQuiz(){
  G.paused=true;
  QS={subj:null,diff:null};
  document.getElementById('qS1').style.display='block';
  document.getElementById('qS2').style.display='none';
  document.getElementById('qS3').style.display='none';
  document.getElementById('qModal').classList.remove('hidden');
}

function closeQuiz(){
  document.getElementById('qModal').classList.add('hidden');
  G.paused=false;
}

function pickSubj(s){
  QS.subj=s;
  document.getElementById('qS1').style.display='none';
  document.getElementById('qS2').style.display='block';
}

function pickDiff(d){
  QS.diff=d;
  QS.reward=REWARDS[d];
  var q=getQ(QS.subj,d);
  QS.question=q;

  document.getElementById('qS2').style.display='none';
  document.getElementById('qS3').style.display='block';
  document.getElementById('qTxt').textContent=q.q;

  var grid=document.getElementById('aGrid');
  grid.innerHTML='';
  q.a.forEach(function(ans,idx){
    var btn=document.createElement('button');
    btn.className='abtn';
    btn.textContent=ans;
    btn.onclick=function(){ checkAns(idx, btn); };
    grid.appendChild(btn);
  });
}

function checkAns(idx, btn){
  var all=document.querySelectorAll('.abtn');
  all.forEach(function(b){b.onclick=null;});
  if(idx===QS.question.c){
    btn.classList.add('correct');
    var earned=QS.reward;
    G.coins+=earned; G.questionsOk++;
    updateHUD();
    setTimeout(function(){
      closeQuiz();
      showCoinPop(earned);
      addFloat(CX,GY-TS*2,'+'+earned+'ğŸª™','#ffd700');
    },800);
  } else {
    btn.classList.add('wrong');
    all[QS.question.c].classList.add('correct');
    setTimeout(function(){
      document.getElementById('qS3').style.display='none';
      document.getElementById('qS1').style.display='block';
    },1300);
  }
}

function showCoinPop(n){
  var el=document.getElementById('coinPop');
  el.textContent='+'+n+' ğŸª™';
  el.style.display='block';
  el.style.animation='none';
  void el.offsetWidth;
  el.style.animation='cpopA 1.5s forwards';
  setTimeout(function(){el.style.display='none';},1500);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WAVE ANNOUNCE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var annTimer;
function showWaveAnn(){
  var el=document.getElementById('waveAnn');
  var isBoss=G.wave%5===0;
  el.textContent = isBoss ? TX[LANG].bann(G.wave) : TX[LANG].wann(G.wave);
  el.style.display='block';
  el.style.animation='none';
  void el.offsetWidth;
  el.style.animation='wann 2s forwards';
  clearTimeout(annTimer);
  annTimer=setTimeout(function(){el.style.display='none';},2000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HUD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateHUD(){
  document.getElementById('hCoins').textContent=G.coins;
  document.getElementById('hWave').textContent=G.wave;
  document.getElementById('hInv').textContent=G.invaded+'/10';
  document.getElementById('hArch').textContent=G.archers.length;
  var btns={archer:'bArcher',upgrade:'bUpgrade',wall:'bWall',sniper:'bSniper'};
  Object.keys(COSTS).forEach(function(k){
    var el=document.getElementById(btns[k]);
    if(el) el.disabled=(G.coins<COSTS[k]);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// END GAME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function endGame(){
  G.over=true; G.paused=true;
  setTimeout(function(){
    document.getElementById('gScreen').classList.add('hidden');
    var rs=document.getElementById('rScreen');
    rs.classList.remove('hidden');
    document.getElementById('rEmo').textContent='ğŸ’€';
    document.getElementById('rTitle').textContent=T('loseTitle');
    document.getElementById('rTitle').style.color='#e74c3c';
    document.getElementById('rStats').innerHTML=TX[LANG].stats(G.wave,G.killed,G.questionsOk);
    document.getElementById('lRestart').textContent=TX[LANG].restart;
  }, 400);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// START / RESTART
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startGame(){
  document.getElementById('sScreen').classList.add('hidden');
  document.getElementById('gScreen').classList.remove('hidden');
  resize();
  initState();
  showWaveAnn();
  if(RAF) cancelAnimationFrame(RAF);
  prevT=performance.now();
  RAF=requestAnimationFrame(loop);
}

function restartGame(){
  document.getElementById('rScreen').classList.add('hidden');
  document.getElementById('gScreen').classList.remove('hidden');
  resize();
  initState();
  showWaveAnn();
  G.paused=false; G.over=false;
  prevT=performance.now();
  if(RAF) cancelAnimationFrame(RAF);
  RAF=requestAnimationFrame(loop);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
resize();
</script>
</body>
</html>
